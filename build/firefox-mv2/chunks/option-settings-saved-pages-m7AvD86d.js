import{al as Xt,bd as Qa,ah as Kt,ac as en,ab as tn,ad as an,ae as nn,aB as fe,aE as Ce,be as rn,aY as St,bf as on,u as qt,bg as sn,as as ln,bh as Yt,a5 as cn,Y as Jt,X as dn,k as Zt,bi as un,aN as mn,m as Qt,aZ as y,am as Ke,F as Te,ba as ve,S as ea,T as ce,N as Z,j as ta,D as kt,I as Pe,l as be,M as qe,Q as aa,af as hn,O as na,L as pn}from"./get-screenshot-dbUggNeo.js";import{v as it,y as Ye,z as $,r as i,A as We,c as G,p as ra,a9 as gn,ac as fn,ab as bn,at as vn,e as Q,b as J,R as xn,a3 as oa,f as xe,au as yn,s as Ct,d as he,L as ia,a8 as $n,_ as st,w as Et,x as Nt,Z as sa,av as lt,u as la,j as n,E as Rt,aw as jn}from"./FontSizeProvider-BQs3lYNB.js";import{g as ct,s as ca,L as ee,E as da,C as ua,c as ma,e as Ge,R as ha,a as Pt,S as wn,T as Sn,b as kn,d as Cn,u as En,f as Nn,i as Rn}from"./SyncSettings-7Tfhbtm7.js";import{S as Pn}from"./SettingsOptionLayout-B_5QFEQC.js";import{E as zn,M as In,D as Mn,a as Ln}from"./Ollama-CeSCS9zP.js";import{s as oe}from"./index-DemEzR4a.js";import{D as dt}from"./messages-Vk3juZ78.js";import{P as On,D as Tn}from"./DownloadOutlined-yZSZgYoM.js";import{P as _n}from"./index-BYRLfKhV.js";import"./blocks-D1BmLOQx.js";const ut=(e,t,r,a,o)=>({background:e,border:`${$(a.lineWidth)} ${a.lineType} ${t}`,[`${o}-icon`]:{color:r}}),Bn=e=>{const{componentCls:t,motionDurationSlow:r,marginXS:a,marginSM:o,fontSize:l,fontSizeLG:s,lineHeight:c,borderRadiusLG:d,motionEaseInOutCirc:p,withDescriptionIconSize:v,colorText:x,colorTextHeading:g,withDescriptionPadding:j,defaultPadding:S}=e;return{[t]:Object.assign(Object.assign({},Ye(e)),{position:"relative",display:"flex",alignItems:"center",padding:S,wordWrap:"break-word",borderRadius:d,[`&${t}-rtl`]:{direction:"rtl"},[`${t}-content`]:{flex:1,minWidth:0},[`${t}-icon`]:{marginInlineEnd:a,lineHeight:0},"&-description":{display:"none",fontSize:l,lineHeight:c},"&-message":{color:g},[`&${t}-motion-leave`]:{overflow:"hidden",opacity:1,transition:`max-height ${r} ${p}, opacity ${r} ${p},
        padding-top ${r} ${p}, padding-bottom ${r} ${p},
        margin-bottom ${r} ${p}`},[`&${t}-motion-leave-active`]:{maxHeight:0,marginBottom:"0 !important",paddingTop:0,paddingBottom:0,opacity:0}}),[`${t}-with-description`]:{alignItems:"flex-start",padding:j,[`${t}-icon`]:{marginInlineEnd:o,fontSize:v,lineHeight:0},[`${t}-message`]:{display:"block",marginBottom:a,color:g,fontSize:s},[`${t}-description`]:{display:"block",color:x}},[`${t}-banner`]:{marginBottom:0,border:"0 !important",borderRadius:0}}},Hn=e=>{const{componentCls:t,colorSuccess:r,colorSuccessBorder:a,colorSuccessBg:o,colorWarning:l,colorWarningBorder:s,colorWarningBg:c,colorError:d,colorErrorBorder:p,colorErrorBg:v,colorInfo:x,colorInfoBorder:g,colorInfoBg:j}=e;return{[t]:{"&-success":ut(o,a,r,e,t),"&-info":ut(j,g,x,e,t),"&-warning":ut(c,s,l,e,t),"&-error":Object.assign(Object.assign({},ut(v,p,d,e,t)),{[`${t}-description > pre`]:{margin:0,padding:0}})}}},Dn=e=>{const{componentCls:t,iconCls:r,motionDurationMid:a,marginXS:o,fontSizeIcon:l,colorIcon:s,colorIconHover:c}=e;return{[t]:{"&-action":{marginInlineStart:o},[`${t}-close-icon`]:{marginInlineStart:o,padding:0,overflow:"hidden",fontSize:l,lineHeight:$(l),backgroundColor:"transparent",border:"none",outline:"none",cursor:"pointer",[`${r}-close`]:{color:s,transition:`color ${a}`,"&:hover":{color:c}}},"&-close-text":{color:s,transition:`color ${a}`,"&:hover":{color:c}}}}},An=e=>({withDescriptionIconSize:e.fontSizeHeading3,defaultPadding:`${e.paddingContentVerticalSM}px 12px`,withDescriptionPadding:`${e.paddingMD}px ${e.paddingContentHorizontalLG}px`}),Wn=it("Alert",e=>[Bn(e),Hn(e),Dn(e)],An);var pa=function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(r[a[o]]=e[a[o]]);return r};const Gn={success:en,info:tn,error:an,warning:nn},Fn=e=>{const{icon:t,prefixCls:r,type:a}=e,o=Gn[a]||null;return t?Qa(t,i.createElement("span",{className:`${r}-icon`},t),()=>({className:G(`${r}-icon`,{[t.props.className]:t.props.className})})):i.createElement(o,{className:`${r}-icon`})},Vn=e=>{const{isClosable:t,prefixCls:r,closeIcon:a,handleClose:o,ariaProps:l}=e,s=a===!0||a===void 0?i.createElement(Kt,null):a;return t?i.createElement("button",Object.assign({type:"button",onClick:o,className:`${r}-close-icon`,tabIndex:0},l),s):null},Un=e=>{const{description:t,prefixCls:r,message:a,banner:o,className:l,rootClassName:s,style:c,onMouseEnter:d,onMouseLeave:p,onClick:v,afterClose:x,showIcon:g,closable:j,closeText:S,closeIcon:w,action:C}=e,E=pa(e,["description","prefixCls","message","banner","className","rootClassName","style","onMouseEnter","onMouseLeave","onClick","afterClose","showIcon","closable","closeText","closeIcon","action"]),[N,M]=i.useState(!1),W=i.useRef(null),{getPrefixCls:_,direction:m,alert:f}=i.useContext(We),k=_("alert",r),[R,L,P]=Wn(k),I=V=>{var U;M(!0),(U=e.onClose)===null||U===void 0||U.call(e,V)},u=i.useMemo(()=>e.type!==void 0?e.type:o?"warning":"info",[e.type,o]),b=i.useMemo(()=>typeof j=="object"&&j.closeIcon||S?!0:typeof j=="boolean"?j:w!==!1&&w!==null&&w!==void 0?!0:!!(f!=null&&f.closable),[S,w,j,f==null?void 0:f.closable]),B=o&&g===void 0?!0:g,D=G(k,`${k}-${u}`,{[`${k}-with-description`]:!!t,[`${k}-no-icon`]:!B,[`${k}-banner`]:!!o,[`${k}-rtl`]:m==="rtl"},f==null?void 0:f.className,l,s,P,L),O=Xt(E,{aria:!0,data:!0}),A=i.useMemo(()=>{var V,U;return typeof j=="object"&&j.closeIcon?j.closeIcon:S||(w!==void 0?w:typeof(f==null?void 0:f.closable)=="object"&&!((V=f==null?void 0:f.closable)===null||V===void 0)&&V.closeIcon?(U=f==null?void 0:f.closable)===null||U===void 0?void 0:U.closeIcon:f==null?void 0:f.closeIcon)},[w,j,S,f==null?void 0:f.closeIcon]),te=i.useMemo(()=>{const V=j??(f==null?void 0:f.closable);return typeof V=="object"?pa(V,["closeIcon"]):{}},[j,f==null?void 0:f.closable]);return R(i.createElement(ra,{visible:!N,motionName:`${k}-motion`,motionAppear:!1,motionEnter:!1,onLeaveStart:V=>({maxHeight:V.offsetHeight}),onLeaveEnd:x},V=>{let{className:U,style:z}=V;return i.createElement("div",Object.assign({ref:W,"data-show":!N,className:G(D,U),style:Object.assign(Object.assign(Object.assign({},f==null?void 0:f.style),c),z),onMouseEnter:d,onMouseLeave:p,onClick:v,role:"alert"},O),B?i.createElement(Fn,{description:t,icon:e.icon,prefixCls:k,type:u}):null,i.createElement("div",{className:`${k}-content`},a?i.createElement("div",{className:`${k}-message`},a):null,t?i.createElement("div",{className:`${k}-description`},t):null),C?i.createElement("div",{className:`${k}-action`},C):null,i.createElement(Vn,{isClosable:b,prefixCls:k,closeIcon:A,handleClose:I,ariaProps:te}))}))},ga=Un;let Xn=function(e){function t(){var r;return bn(this,t),r=vn(this,t,arguments),r.state={error:void 0,info:{componentStack:""}},r}return gn(t,e),fn(t,[{key:"componentDidCatch",value:function(r,a){this.setState({error:r,info:a})}},{key:"render",value:function(){const{message:r,description:a,children:o}=this.props,{error:l,info:s}=this.state,c=s&&s.componentStack?s.componentStack:null,d=typeof r>"u"?(l||"").toString():r,p=typeof a>"u"?c:a;return l?i.createElement(ga,{type:"error",message:d,description:i.createElement("pre",{style:{fontSize:"0.9em",overflowX:"auto"}},p)}):o}}])}(i.Component);const Kn=Xn,fa=ga;fa.ErrorBoundary=Kn;const qn=fa;var Yn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M192 474h672q8 0 8 8v60q0 8-8 8H160q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"};const Jn=Yn;var Zn=function(e,t){return i.createElement(fe,Q({},e,{ref:t,icon:Jn}))},Qn=i.forwardRef(Zn);const ba=Qn,mt=i.createContext(null);var er=function(e){var t=e.activeTabOffset,r=e.horizontal,a=e.rtl,o=e.indicator,l=o===void 0?{}:o,s=l.size,c=l.align,d=c===void 0?"center":c,p=i.useState(),v=J(p,2),x=v[0],g=v[1],j=i.useRef(),S=xn.useCallback(function(C){return typeof s=="function"?s(C):typeof s=="number"?s:C},[s]);function w(){oa.cancel(j.current)}return i.useEffect(function(){var C={};if(t)if(r){C.width=S(t.width);var E=a?"right":"left";d==="start"&&(C[E]=t[E]),d==="center"&&(C[E]=t[E]+t.width/2,C.transform=a?"translateX(50%)":"translateX(-50%)"),d==="end"&&(C[E]=t[E]+t.width,C.transform="translateX(-100%)")}else C.height=S(t.height),d==="start"&&(C.top=t.top),d==="center"&&(C.top=t.top+t.height/2,C.transform="translateY(-50%)"),d==="end"&&(C.top=t.top+t.height,C.transform="translateY(-100%)");return w(),j.current=oa(function(){g(C)}),w},[t,r,a,d,S]),{style:x}},va={width:0,height:0,left:0,top:0};function tr(e,t,r){return i.useMemo(function(){for(var a,o=new Map,l=t.get((a=e[0])===null||a===void 0?void 0:a.key)||va,s=l.left+l.width,c=0;c<e.length;c+=1){var d=e[c].key,p=t.get(d);if(!p){var v;p=t.get((v=e[c-1])===null||v===void 0?void 0:v.key)||va}var x=o.get(d)||xe({},p);x.right=s-x.left-x.width,o.set(d,x)}return o},[e.map(function(a){return a.key}).join("_"),t,r])}function xa(e,t){var r=i.useRef(e),a=i.useState({}),o=J(a,2),l=o[1];function s(c){var d=typeof c=="function"?c(r.current):c;d!==r.current&&t(d,r.current),r.current=d,l({})}return[r.current,s]}var ar=.1,ya=.01,ht=20,$a=Math.pow(.995,ht);function nr(e,t){var r=i.useState(),a=J(r,2),o=a[0],l=a[1],s=i.useState(0),c=J(s,2),d=c[0],p=c[1],v=i.useState(0),x=J(v,2),g=x[0],j=x[1],S=i.useState(),w=J(S,2),C=w[0],E=w[1],N=i.useRef();function M(R){var L=R.touches[0],P=L.screenX,I=L.screenY;l({x:P,y:I}),window.clearInterval(N.current)}function W(R){if(o){R.preventDefault();var L=R.touches[0],P=L.screenX,I=L.screenY;l({x:P,y:I});var u=P-o.x,b=I-o.y;t(u,b);var B=Date.now();p(B),j(B-d),E({x:u,y:b})}}function _(){if(o&&(l(null),E(null),C)){var R=C.x/g,L=C.y/g,P=Math.abs(R),I=Math.abs(L);if(Math.max(P,I)<ar)return;var u=R,b=L;N.current=window.setInterval(function(){if(Math.abs(u)<ya&&Math.abs(b)<ya){window.clearInterval(N.current);return}u*=$a,b*=$a,t(u*ht,b*ht)},ht)}}var m=i.useRef();function f(R){var L=R.deltaX,P=R.deltaY,I=0,u=Math.abs(L),b=Math.abs(P);u===b?I=m.current==="x"?L:P:u>b?(I=L,m.current="x"):(I=P,m.current="y"),t(-I,-I)&&R.preventDefault()}var k=i.useRef(null);k.current={onTouchStart:M,onTouchMove:W,onTouchEnd:_,onWheel:f},i.useEffect(function(){function R(u){k.current.onTouchStart(u)}function L(u){k.current.onTouchMove(u)}function P(u){k.current.onTouchEnd(u)}function I(u){k.current.onWheel(u)}return document.addEventListener("touchmove",L,{passive:!1}),document.addEventListener("touchend",P,{passive:!1}),e.current.addEventListener("touchstart",R,{passive:!1}),e.current.addEventListener("wheel",I),function(){document.removeEventListener("touchmove",L),document.removeEventListener("touchend",P)}},[])}function ja(e){var t=i.useState(0),r=J(t,2),a=r[0],o=r[1],l=i.useRef(0),s=i.useRef();return s.current=e,yn(function(){var c;(c=s.current)===null||c===void 0||c.call(s)},[a]),function(){l.current===a&&(l.current+=1,o(l.current))}}function rr(e){var t=i.useRef([]),r=i.useState({}),a=J(r,2),o=a[1],l=i.useRef(typeof e=="function"?e():e),s=ja(function(){var d=l.current;t.current.forEach(function(p){d=p(d)}),t.current=[],l.current=d,o({})});function c(d){t.current.push(d),s()}return[l.current,c]}var wa={width:0,height:0,left:0,top:0,right:0};function or(e,t,r,a,o,l,s){var c=s.tabs,d=s.tabPosition,p=s.rtl,v,x,g;return["top","bottom"].includes(d)?(v="width",x=p?"right":"left",g=Math.abs(r)):(v="height",x="top",g=-r),i.useMemo(function(){if(!c.length)return[0,0];for(var j=c.length,S=j,w=0;w<j;w+=1){var C=e.get(c[w].key)||wa;if(C[x]+C[v]>g+t){S=w-1;break}}for(var E=0,N=j-1;N>=0;N-=1){var M=e.get(c[N].key)||wa;if(M[x]<g){E=N+1;break}}return E>=S?[0,0]:[E,S]},[e,t,a,o,l,g,d,c.map(function(j){return j.key}).join("_"),p])}function Sa(e){var t;return e instanceof Map?(t={},e.forEach(function(r,a){t[a]=r})):t=e,JSON.stringify(t)}var ir="TABS_DQ";function ka(e){return String(e).replace(/"/g,ir)}function Ca(e,t,r,a){return!(!r||a||e===!1||e===void 0&&(t===!1||t===null))}var Ea=i.forwardRef(function(e,t){var r=e.prefixCls,a=e.editable,o=e.locale,l=e.style;return!a||a.showAdd===!1?null:i.createElement("button",{ref:t,type:"button",className:"".concat(r,"-nav-add"),style:l,"aria-label":(o==null?void 0:o.addAriaLabel)||"Add tab",onClick:function(s){a.onEdit("add",{event:s})}},a.addIcon||"+")}),Na=i.forwardRef(function(e,t){var r=e.position,a=e.prefixCls,o=e.extra;if(!o)return null;var l,s={};return Ct(o)==="object"&&!i.isValidElement(o)?s=o:s.right=o,r==="right"&&(l=s.right),r==="left"&&(l=s.left),l?i.createElement("div",{className:"".concat(a,"-extra-content"),ref:t},l):null}),sr=i.forwardRef(function(e,t){var r=e.prefixCls,a=e.id,o=e.tabs,l=e.locale,s=e.mobile,c=e.moreIcon,d=c===void 0?"More":c,p=e.moreTransitionName,v=e.style,x=e.className,g=e.editable,j=e.tabBarGutter,S=e.rtl,w=e.removeAriaLabel,C=e.onTabClick,E=e.getPopupContainer,N=e.popupClassName,M=i.useState(!1),W=J(M,2),_=W[0],m=W[1],f=i.useState(null),k=J(f,2),R=k[0],L=k[1],P="".concat(a,"-more-popup"),I="".concat(r,"-dropdown"),u=R!==null?"".concat(P,"-").concat(R):null,b=l==null?void 0:l.dropdownAriaLabel;function B(z,X){z.preventDefault(),z.stopPropagation(),g.onEdit("remove",{key:X,event:z})}var D=i.createElement(zn,{onClick:function(z){var X=z.key,K=z.domEvent;C(X,K),m(!1)},prefixCls:"".concat(I,"-menu"),id:P,tabIndex:-1,role:"listbox","aria-activedescendant":u,selectedKeys:[R],"aria-label":b!==void 0?b:"expanded dropdown"},o.map(function(z){var X=z.closable,K=z.disabled,q=z.closeIcon,ae=z.key,le=z.label,ie=Ca(X,q,g,K);return i.createElement(In,{key:ae,id:"".concat(P,"-").concat(ae),role:"option","aria-controls":a&&"".concat(a,"-panel-").concat(ae),disabled:K},i.createElement("span",null,le),ie&&i.createElement("button",{type:"button","aria-label":w||"remove",tabIndex:0,className:"".concat(I,"-menu-item-remove"),onClick:function(ue){ue.stopPropagation(),B(ue,ae)}},q||g.removeIcon||"\xD7"))}));function O(z){for(var X=o.filter(function(ie){return!ie.disabled}),K=X.findIndex(function(ie){return ie.key===R})||0,q=X.length,ae=0;ae<q;ae+=1){K=(K+z+q)%q;var le=X[K];if(!le.disabled){L(le.key);return}}}function A(z){var X=z.which;if(!_){[Ce.DOWN,Ce.SPACE,Ce.ENTER].includes(X)&&(m(!0),z.preventDefault());return}switch(X){case Ce.UP:O(-1),z.preventDefault();break;case Ce.DOWN:O(1),z.preventDefault();break;case Ce.ESC:m(!1);break;case Ce.SPACE:case Ce.ENTER:R!==null&&C(R,z);break}}i.useEffect(function(){var z=document.getElementById(u);z&&z.scrollIntoView&&z.scrollIntoView(!1)},[R]),i.useEffect(function(){_||L(null)},[_]);var te=he({},S?"marginRight":"marginLeft",j);o.length||(te.visibility="hidden",te.order=1);var V=G(he({},"".concat(I,"-rtl"),S)),U=s?null:i.createElement(Mn,{prefixCls:I,overlay:D,trigger:["hover"],visible:o.length?_:!1,transitionName:p,onVisibleChange:m,overlayClassName:G(V,N),mouseEnterDelay:.1,mouseLeaveDelay:.1,getPopupContainer:E},i.createElement("button",{type:"button",className:"".concat(r,"-nav-more"),style:te,tabIndex:-1,"aria-hidden":"true","aria-haspopup":"listbox","aria-controls":P,id:"".concat(a,"-more"),"aria-expanded":_,onKeyDown:A},d));return i.createElement("div",{className:G("".concat(r,"-nav-operations"),x),style:v,ref:t},U,i.createElement(Ea,{prefixCls:r,locale:l,editable:g}))});const lr=i.memo(sr,function(e,t){return t.tabMoving});var cr=function(e){var t=e.prefixCls,r=e.id,a=e.active,o=e.tab,l=o.key,s=o.label,c=o.disabled,d=o.closeIcon,p=o.icon,v=e.closable,x=e.renderWrapper,g=e.removeAriaLabel,j=e.editable,S=e.onClick,w=e.onFocus,C=e.style,E="".concat(t,"-tab"),N=Ca(v,d,j,c);function M(f){c||S(f)}function W(f){f.preventDefault(),f.stopPropagation(),j.onEdit("remove",{key:l,event:f})}var _=i.useMemo(function(){return p&&typeof s=="string"?i.createElement("span",null,s):s},[s,p]),m=i.createElement("div",{key:l,"data-node-key":ka(l),className:G(E,he(he(he({},"".concat(E,"-with-remove"),N),"".concat(E,"-active"),a),"".concat(E,"-disabled"),c)),style:C,onClick:M},i.createElement("div",{role:"tab","aria-selected":a,id:r&&"".concat(r,"-tab-").concat(l),className:"".concat(E,"-btn"),"aria-controls":r&&"".concat(r,"-panel-").concat(l),"aria-disabled":c,tabIndex:c?null:0,onClick:function(f){f.stopPropagation(),M(f)},onKeyDown:function(f){[Ce.SPACE,Ce.ENTER].includes(f.which)&&(f.preventDefault(),M(f))},onFocus:w},p&&i.createElement("span",{className:"".concat(E,"-icon")},p),s&&_),N&&i.createElement("button",{type:"button","aria-label":g||"remove",tabIndex:0,className:"".concat(E,"-remove"),onClick:function(f){f.stopPropagation(),W(f)}},d||j.removeIcon||"\xD7"));return x?x(m):m},dr=function(e,t){var r=e.offsetWidth,a=e.offsetHeight,o=e.offsetTop,l=e.offsetLeft,s=e.getBoundingClientRect(),c=s.width,d=s.height,p=s.x,v=s.y;return Math.abs(c-r)<1?[c,d,p-t.x,v-t.y]:[r,a,l,o]},Fe=function(e){var t=e.current||{},r=t.offsetWidth,a=r===void 0?0:r,o=t.offsetHeight,l=o===void 0?0:o;if(e.current){var s=e.current.getBoundingClientRect(),c=s.width,d=s.height;if(Math.abs(c-a)<1)return[c,d]}return[a,l]},pt=function(e,t){return e[t?0:1]},Ra=i.forwardRef(function(e,t){var r=e.className,a=e.style,o=e.id,l=e.animated,s=e.activeKey,c=e.rtl,d=e.extra,p=e.editable,v=e.locale,x=e.tabPosition,g=e.tabBarGutter,j=e.children,S=e.onTabClick,w=e.onTabScroll,C=e.indicator,E=i.useContext(mt),N=E.prefixCls,M=E.tabs,W=i.useRef(null),_=i.useRef(null),m=i.useRef(null),f=i.useRef(null),k=i.useRef(null),R=i.useRef(null),L=i.useRef(null),P=x==="top"||x==="bottom",I=xa(0,function(Y,H){P&&w&&w({direction:Y>H?"left":"right"})}),u=J(I,2),b=u[0],B=u[1],D=xa(0,function(Y,H){!P&&w&&w({direction:Y>H?"top":"bottom"})}),O=J(D,2),A=O[0],te=O[1],V=i.useState([0,0]),U=J(V,2),z=U[0],X=U[1],K=i.useState([0,0]),q=J(K,2),ae=q[0],le=q[1],ie=i.useState([0,0]),ue=J(ie,2),Ee=ue[0],Se=ue[1],ze=i.useState([0,0]),Ne=J(ze,2),Ie=Ne[0],F=Ne[1],$e=rr(new Map),ke=J($e,2),h=ke[0],T=ke[1],se=tr(M,h,ae[0]),me=pt(z,P),Re=pt(ae,P),Ve=pt(Ee,P),Ue=pt(Ie,P),De=me<Re+Ve,je=De?me-Ue:me-Ve,Ha="".concat(N,"-nav-operations-hidden"),Me=0,Ae=0;P&&c?(Me=0,Ae=Math.max(0,Re-je)):(Me=Math.min(0,je-Re),Ae=0);function vt(Y){return Y<Me?Me:Y>Ae?Ae:Y}var xt=i.useRef(null),Da=i.useState(),Tt=J(Da,2),tt=Tt[0],_t=Tt[1];function yt(){_t(Date.now())}function $t(){xt.current&&clearTimeout(xt.current)}nr(f,function(Y,H){function ne(ge,Le){ge(function(Oe){var rt=vt(Oe+Le);return rt})}return De?(P?ne(B,Y):ne(te,H),$t(),yt(),!0):!1}),i.useEffect(function(){return $t(),tt&&(xt.current=setTimeout(function(){_t(0)},100)),$t},[tt]);var Aa=or(se,je,P?b:A,Re,Ve,Ue,xe(xe({},e),{},{tabs:M})),Bt=J(Aa,2),Wa=Bt[0],Ga=Bt[1],Ht=rn(function(){var Y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:s,H=se.get(Y)||{width:0,height:0,left:0,right:0,top:0};if(P){var ne=b;c?H.right<b?ne=H.right:H.right+H.width>b+je&&(ne=H.right+H.width-je):H.left<-b?ne=-H.left:H.left+H.width>-b+je&&(ne=-(H.left+H.width-je)),te(0),B(vt(ne))}else{var ge=A;H.top<-A?ge=-H.top:H.top+H.height>-A+je&&(ge=-(H.top+H.height-je)),B(0),te(vt(ge))}}),at={};x==="top"||x==="bottom"?at[c?"marginRight":"marginLeft"]=g:at.marginTop=g;var Dt=M.map(function(Y,H){var ne=Y.key;return i.createElement(cr,{id:o,prefixCls:N,key:ne,tab:Y,style:H===0?void 0:at,closable:Y.closable,editable:p,active:ne===s,renderWrapper:j,removeAriaLabel:v==null?void 0:v.removeAriaLabel,onClick:function(ge){S(ne,ge)},onFocus:function(){Ht(ne),yt(),f.current&&(c||(f.current.scrollLeft=0),f.current.scrollTop=0)}})}),At=function(){return T(function(){var Y,H=new Map,ne=(Y=k.current)===null||Y===void 0?void 0:Y.getBoundingClientRect();return M.forEach(function(ge){var Le,Oe=ge.key,rt=(Le=k.current)===null||Le===void 0?void 0:Le.querySelector('[data-node-key="'.concat(ka(Oe),'"]'));if(rt){var Ka=dr(rt,ne),ot=J(Ka,4),qa=ot[0],Ya=ot[1],Ja=ot[2],Za=ot[3];H.set(Oe,{width:qa,height:Ya,left:Ja,top:Za})}}),H})};i.useEffect(function(){At()},[M.map(function(Y){return Y.key}).join("_")]);var nt=ja(function(){var Y=Fe(W),H=Fe(_),ne=Fe(m);X([Y[0]-H[0]-ne[0],Y[1]-H[1]-ne[1]]);var ge=Fe(L);Se(ge);var Le=Fe(R);F(Le);var Oe=Fe(k);le([Oe[0]-ge[0],Oe[1]-ge[1]]),At()}),Fa=M.slice(0,Wa),Va=M.slice(Ga+1),Wt=[].concat(ia(Fa),ia(Va)),Gt=se.get(s),Ua=er({activeTabOffset:Gt,horizontal:P,indicator:C,rtl:c}),Xa=Ua.style;i.useEffect(function(){Ht()},[s,Me,Ae,Sa(Gt),Sa(se),P]),i.useEffect(function(){nt()},[c]);var Ft=!!Wt.length,Xe="".concat(N,"-nav-wrap"),jt,wt,Vt,Ut;return P?c?(wt=b>0,jt=b!==Ae):(jt=b<0,wt=b!==Me):(Vt=A<0,Ut=A!==Me),i.createElement(St,{onResize:nt},i.createElement("div",{ref:$n(t,W),role:"tablist",className:G("".concat(N,"-nav"),r),style:a,onKeyDown:function(){yt()}},i.createElement(Na,{ref:_,position:"left",extra:d,prefixCls:N}),i.createElement(St,{onResize:nt},i.createElement("div",{className:G(Xe,he(he(he(he({},"".concat(Xe,"-ping-left"),jt),"".concat(Xe,"-ping-right"),wt),"".concat(Xe,"-ping-top"),Vt),"".concat(Xe,"-ping-bottom"),Ut)),ref:f},i.createElement(St,{onResize:nt},i.createElement("div",{ref:k,className:"".concat(N,"-nav-list"),style:{transform:"translate(".concat(b,"px, ").concat(A,"px)"),transition:tt?"none":void 0}},Dt,i.createElement(Ea,{ref:L,prefixCls:N,locale:v,editable:p,style:xe(xe({},Dt.length===0?void 0:at),{},{visibility:Ft?"hidden":null})}),i.createElement("div",{className:G("".concat(N,"-ink-bar"),he({},"".concat(N,"-ink-bar-animated"),l.inkBar)),style:Xa}))))),i.createElement(lr,Q({},e,{removeAriaLabel:v==null?void 0:v.removeAriaLabel,ref:R,prefixCls:N,tabs:Wt,className:!Ft&&Ha,tabMoving:!!tt})),i.createElement(Na,{ref:m,position:"right",extra:d,prefixCls:N})))}),Pa=i.forwardRef(function(e,t){var r=e.prefixCls,a=e.className,o=e.style,l=e.id,s=e.active,c=e.tabKey,d=e.children;return i.createElement("div",{id:l&&"".concat(l,"-panel-").concat(c),role:"tabpanel",tabIndex:s?0:-1,"aria-labelledby":l&&"".concat(l,"-tab-").concat(c),"aria-hidden":!s,style:o,className:G(r,s&&"".concat(r,"-active"),a),ref:t},d)}),ur=["renderTabBar"],mr=["label","key"],hr=function(e){var t=e.renderTabBar,r=st(e,ur),a=i.useContext(mt),o=a.tabs;if(t){var l=xe(xe({},r),{},{panes:o.map(function(s){var c=s.label,d=s.key,p=st(s,mr);return i.createElement(Pa,Q({tab:c,key:d,tabKey:d},p))})});return t(l,Ra)}return i.createElement(Ra,r)},pr=["key","forceRender","style","className","destroyInactiveTabPane"],gr=function(e){var t=e.id,r=e.activeKey,a=e.animated,o=e.tabPosition,l=e.destroyInactiveTabPane,s=i.useContext(mt),c=s.prefixCls,d=s.tabs,p=a.tabPane,v="".concat(c,"-tabpane");return i.createElement("div",{className:G("".concat(c,"-content-holder"))},i.createElement("div",{className:G("".concat(c,"-content"),"".concat(c,"-content-").concat(o),he({},"".concat(c,"-content-animated"),p))},d.map(function(x){var g=x.key,j=x.forceRender,S=x.style,w=x.className,C=x.destroyInactiveTabPane,E=st(x,pr),N=g===r;return i.createElement(ra,Q({key:g,visible:N,forceRender:j,removeOnLeave:!!(l||C),leavedClassName:"".concat(v,"-hidden")},a.tabPaneMotion),function(M,W){var _=M.style,m=M.className;return i.createElement(Pa,Q({},E,{prefixCls:v,id:t,tabKey:g,animated:p,active:N,style:xe(xe({},S),_),className:G(w,m),ref:W}))})})))};function fr(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{inkBar:!0,tabPane:!1},t;return e===!1?t={inkBar:!1,tabPane:!1}:e===!0?t={inkBar:!0,tabPane:!1}:t=xe({inkBar:!0},Ct(e)==="object"?e:{}),t.tabPaneMotion&&t.tabPane===void 0&&(t.tabPane=!0),!t.tabPaneMotion&&t.tabPane&&(t.tabPane=!1),t}var br=["id","prefixCls","className","items","direction","activeKey","defaultActiveKey","editable","animated","tabPosition","tabBarGutter","tabBarStyle","tabBarExtraContent","locale","moreIcon","moreTransitionName","destroyInactiveTabPane","renderTabBar","onChange","onTabClick","onTabScroll","getPopupContainer","popupClassName","indicator"],za=0,vr=i.forwardRef(function(e,t){var r=e.id,a=e.prefixCls,o=a===void 0?"rc-tabs":a,l=e.className,s=e.items,c=e.direction,d=e.activeKey,p=e.defaultActiveKey,v=e.editable,x=e.animated,g=e.tabPosition,j=g===void 0?"top":g,S=e.tabBarGutter,w=e.tabBarStyle,C=e.tabBarExtraContent,E=e.locale,N=e.moreIcon,M=e.moreTransitionName,W=e.destroyInactiveTabPane,_=e.renderTabBar,m=e.onChange,f=e.onTabClick,k=e.onTabScroll,R=e.getPopupContainer,L=e.popupClassName,P=e.indicator,I=st(e,br),u=i.useMemo(function(){return(s||[]).filter(function(F){return F&&Ct(F)==="object"&&"key"in F})},[s]),b=c==="rtl",B=fr(x),D=i.useState(!1),O=J(D,2),A=O[0],te=O[1];i.useEffect(function(){te(on())},[]);var V=qt(function(){var F;return(F=u[0])===null||F===void 0?void 0:F.key},{value:d,defaultValue:p}),U=J(V,2),z=U[0],X=U[1],K=i.useState(function(){return u.findIndex(function(F){return F.key===z})}),q=J(K,2),ae=q[0],le=q[1];i.useEffect(function(){var F=u.findIndex(function(ke){return ke.key===z});if(F===-1){var $e;F=Math.max(0,Math.min(ae,u.length-1)),X(($e=u[F])===null||$e===void 0?void 0:$e.key)}le(F)},[u.map(function(F){return F.key}).join("_"),z,ae]);var ie=qt(null,{value:r}),ue=J(ie,2),Ee=ue[0],Se=ue[1];i.useEffect(function(){r||(Se("rc-tabs-".concat(za)),za+=1)},[]);function ze(F,$e){f==null||f(F,$e);var ke=F!==z;X(F),ke&&(m==null||m(F))}var Ne={id:Ee,activeKey:z,animated:B,tabPosition:j,rtl:b,mobile:A},Ie=xe(xe({},Ne),{},{editable:v,locale:E,moreIcon:N,moreTransitionName:M,tabBarGutter:S,onTabClick:ze,onTabScroll:k,extra:C,style:w,panes:null,getPopupContainer:R,popupClassName:L,indicator:P});return i.createElement(mt.Provider,{value:{tabs:u,prefixCls:o}},i.createElement("div",Q({ref:t,id:r,className:G(o,"".concat(o,"-").concat(j),he(he(he({},"".concat(o,"-mobile"),A),"".concat(o,"-editable"),v),"".concat(o,"-rtl"),b),l)},I),i.createElement(hr,Q({},Ie,{renderTabBar:_})),i.createElement(gr,Q({destroyInactiveTabPane:W},Ne,{animated:B}))))});const xr={motionAppear:!1,motionEnter:!0,motionLeave:!0};function yr(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{inkBar:!0,tabPane:!1},r;return t===!1?r={inkBar:!1,tabPane:!1}:t===!0?r={inkBar:!0,tabPane:!0}:r=Object.assign({inkBar:!0},typeof t=="object"?t:{}),r.tabPane&&(r.tabPaneMotion=Object.assign(Object.assign({},xr),{motionName:sn(e,"switch")})),r}var $r=function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(r[a[o]]=e[a[o]]);return r};function jr(e){return e.filter(t=>t)}function wr(e,t){if(e)return e;const r=ln(t).map(a=>{if(i.isValidElement(a)){const{key:o,props:l}=a,s=l||{},{tab:c}=s,d=$r(s,["tab"]);return Object.assign(Object.assign({key:String(o)},d),{label:c})}return null});return jr(r)}const Sr=e=>{const{componentCls:t,motionDurationSlow:r}=e;return[{[t]:{[`${t}-switch`]:{"&-appear, &-enter":{transition:"none","&-start":{opacity:0},"&-active":{opacity:1,transition:`opacity ${r}`}},"&-leave":{position:"absolute",transition:"none",inset:0,"&-start":{opacity:1},"&-active":{opacity:0,transition:`opacity ${r}`}}}}},[Yt(e,"slide-up"),Yt(e,"slide-down")]]},kr=Sr,Cr=e=>{const{componentCls:t,tabsCardPadding:r,cardBg:a,cardGutter:o,colorBorderSecondary:l,itemSelectedColor:s}=e;return{[`${t}-card`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab`]:{margin:0,padding:r,background:a,border:`${$(e.lineWidth)} ${e.lineType} ${l}`,transition:`all ${e.motionDurationSlow} ${e.motionEaseInOut}`},[`${t}-tab-active`]:{color:s,background:e.colorBgContainer},[`${t}-ink-bar`]:{visibility:"hidden"}},[`&${t}-top, &${t}-bottom`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab + ${t}-tab`]:{marginLeft:{_skip_check_:!0,value:$(o)}}}},[`&${t}-top`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab`]:{borderRadius:`${$(e.borderRadiusLG)} ${$(e.borderRadiusLG)} 0 0`},[`${t}-tab-active`]:{borderBottomColor:e.colorBgContainer}}},[`&${t}-bottom`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab`]:{borderRadius:`0 0 ${$(e.borderRadiusLG)} ${$(e.borderRadiusLG)}`},[`${t}-tab-active`]:{borderTopColor:e.colorBgContainer}}},[`&${t}-left, &${t}-right`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab + ${t}-tab`]:{marginTop:$(o)}}},[`&${t}-left`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab`]:{borderRadius:{_skip_check_:!0,value:`${$(e.borderRadiusLG)} 0 0 ${$(e.borderRadiusLG)}`}},[`${t}-tab-active`]:{borderRightColor:{_skip_check_:!0,value:e.colorBgContainer}}}},[`&${t}-right`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab`]:{borderRadius:{_skip_check_:!0,value:`0 ${$(e.borderRadiusLG)} ${$(e.borderRadiusLG)} 0`}},[`${t}-tab-active`]:{borderLeftColor:{_skip_check_:!0,value:e.colorBgContainer}}}}}}},Er=e=>{const{componentCls:t,itemHoverColor:r,dropdownEdgeChildVerticalPadding:a}=e;return{[`${t}-dropdown`]:Object.assign(Object.assign({},Ye(e)),{position:"absolute",top:-9999,left:{_skip_check_:!0,value:-9999},zIndex:e.zIndexPopup,display:"block","&-hidden":{display:"none"},[`${t}-dropdown-menu`]:{maxHeight:e.tabsDropdownHeight,margin:0,padding:`${$(a)} 0`,overflowX:"hidden",overflowY:"auto",textAlign:{_skip_check_:!0,value:"left"},listStyleType:"none",backgroundColor:e.colorBgContainer,backgroundClip:"padding-box",borderRadius:e.borderRadiusLG,outline:"none",boxShadow:e.boxShadowSecondary,"&-item":Object.assign(Object.assign({},Nt),{display:"flex",alignItems:"center",minWidth:e.tabsDropdownWidth,margin:0,padding:`${$(e.paddingXXS)} ${$(e.paddingSM)}`,color:e.colorText,fontWeight:"normal",fontSize:e.fontSize,lineHeight:e.lineHeight,cursor:"pointer",transition:`all ${e.motionDurationSlow}`,"> span":{flex:1,whiteSpace:"nowrap"},"&-remove":{flex:"none",marginLeft:{_skip_check_:!0,value:e.marginSM},color:e.colorTextDescription,fontSize:e.fontSizeSM,background:"transparent",border:0,cursor:"pointer","&:hover":{color:r}},"&:hover":{background:e.controlItemBgHover},"&-disabled":{"&, &:hover":{color:e.colorTextDisabled,background:"transparent",cursor:"not-allowed"}}})}})}},Nr=e=>{const{componentCls:t,margin:r,colorBorderSecondary:a,horizontalMargin:o,verticalItemPadding:l,verticalItemMargin:s,calc:c}=e;return{[`${t}-top, ${t}-bottom`]:{flexDirection:"column",[`> ${t}-nav, > div > ${t}-nav`]:{margin:o,"&::before":{position:"absolute",right:{_skip_check_:!0,value:0},left:{_skip_check_:!0,value:0},borderBottom:`${$(e.lineWidth)} ${e.lineType} ${a}`,content:"''"},[`${t}-ink-bar`]:{height:e.lineWidthBold,"&-animated":{transition:`width ${e.motionDurationSlow}, left ${e.motionDurationSlow},
            right ${e.motionDurationSlow}`}},[`${t}-nav-wrap`]:{"&::before, &::after":{top:0,bottom:0,width:e.controlHeight},"&::before":{left:{_skip_check_:!0,value:0},boxShadow:e.boxShadowTabsOverflowLeft},"&::after":{right:{_skip_check_:!0,value:0},boxShadow:e.boxShadowTabsOverflowRight},[`&${t}-nav-wrap-ping-left::before`]:{opacity:1},[`&${t}-nav-wrap-ping-right::after`]:{opacity:1}}}},[`${t}-top`]:{[`> ${t}-nav,
        > div > ${t}-nav`]:{"&::before":{bottom:0},[`${t}-ink-bar`]:{bottom:0}}},[`${t}-bottom`]:{[`> ${t}-nav, > div > ${t}-nav`]:{order:1,marginTop:r,marginBottom:0,"&::before":{top:0},[`${t}-ink-bar`]:{top:0}},[`> ${t}-content-holder, > div > ${t}-content-holder`]:{order:0}},[`${t}-left, ${t}-right`]:{[`> ${t}-nav, > div > ${t}-nav`]:{flexDirection:"column",minWidth:c(e.controlHeight).mul(1.25).equal(),[`${t}-tab`]:{padding:l,textAlign:"center"},[`${t}-tab + ${t}-tab`]:{margin:s},[`${t}-nav-wrap`]:{flexDirection:"column","&::before, &::after":{right:{_skip_check_:!0,value:0},left:{_skip_check_:!0,value:0},height:e.controlHeight},"&::before":{top:0,boxShadow:e.boxShadowTabsOverflowTop},"&::after":{bottom:0,boxShadow:e.boxShadowTabsOverflowBottom},[`&${t}-nav-wrap-ping-top::before`]:{opacity:1},[`&${t}-nav-wrap-ping-bottom::after`]:{opacity:1}},[`${t}-ink-bar`]:{width:e.lineWidthBold,"&-animated":{transition:`height ${e.motionDurationSlow}, top ${e.motionDurationSlow}`}},[`${t}-nav-list, ${t}-nav-operations`]:{flex:"1 0 auto",flexDirection:"column"}}},[`${t}-left`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-ink-bar`]:{right:{_skip_check_:!0,value:0}}},[`> ${t}-content-holder, > div > ${t}-content-holder`]:{marginLeft:{_skip_check_:!0,value:$(c(e.lineWidth).mul(-1).equal())},borderLeft:{_skip_check_:!0,value:`${$(e.lineWidth)} ${e.lineType} ${e.colorBorder}`},[`> ${t}-content > ${t}-tabpane`]:{paddingLeft:{_skip_check_:!0,value:e.paddingLG}}}},[`${t}-right`]:{[`> ${t}-nav, > div > ${t}-nav`]:{order:1,[`${t}-ink-bar`]:{left:{_skip_check_:!0,value:0}}},[`> ${t}-content-holder, > div > ${t}-content-holder`]:{order:0,marginRight:{_skip_check_:!0,value:c(e.lineWidth).mul(-1).equal()},borderRight:{_skip_check_:!0,value:`${$(e.lineWidth)} ${e.lineType} ${e.colorBorder}`},[`> ${t}-content > ${t}-tabpane`]:{paddingRight:{_skip_check_:!0,value:e.paddingLG}}}}}},Rr=e=>{const{componentCls:t,cardPaddingSM:r,cardPaddingLG:a,horizontalItemPaddingSM:o,horizontalItemPaddingLG:l}=e;return{[t]:{"&-small":{[`> ${t}-nav`]:{[`${t}-tab`]:{padding:o,fontSize:e.titleFontSizeSM}}},"&-large":{[`> ${t}-nav`]:{[`${t}-tab`]:{padding:l,fontSize:e.titleFontSizeLG}}}},[`${t}-card`]:{[`&${t}-small`]:{[`> ${t}-nav`]:{[`${t}-tab`]:{padding:r}},[`&${t}-bottom`]:{[`> ${t}-nav ${t}-tab`]:{borderRadius:`0 0 ${$(e.borderRadius)} ${$(e.borderRadius)}`}},[`&${t}-top`]:{[`> ${t}-nav ${t}-tab`]:{borderRadius:`${$(e.borderRadius)} ${$(e.borderRadius)} 0 0`}},[`&${t}-right`]:{[`> ${t}-nav ${t}-tab`]:{borderRadius:{_skip_check_:!0,value:`0 ${$(e.borderRadius)} ${$(e.borderRadius)} 0`}}},[`&${t}-left`]:{[`> ${t}-nav ${t}-tab`]:{borderRadius:{_skip_check_:!0,value:`${$(e.borderRadius)} 0 0 ${$(e.borderRadius)}`}}}},[`&${t}-large`]:{[`> ${t}-nav`]:{[`${t}-tab`]:{padding:a}}}}}},Pr=e=>{const{componentCls:t,itemActiveColor:r,itemHoverColor:a,iconCls:o,tabsHorizontalItemMargin:l,horizontalItemPadding:s,itemSelectedColor:c,itemColor:d}=e,p=`${t}-tab`;return{[p]:{position:"relative",WebkitTouchCallout:"none",WebkitTapHighlightColor:"transparent",display:"inline-flex",alignItems:"center",padding:s,fontSize:e.titleFontSize,background:"transparent",border:0,outline:"none",cursor:"pointer",color:d,"&-btn, &-remove":Object.assign({"&:focus:not(:focus-visible), &:active":{color:r}},sa(e)),"&-btn":{outline:"none",transition:"all 0.3s",[`${p}-icon:not(:last-child)`]:{marginInlineEnd:e.marginSM}},"&-remove":{flex:"none",marginRight:{_skip_check_:!0,value:e.calc(e.marginXXS).mul(-1).equal()},marginLeft:{_skip_check_:!0,value:e.marginXS},color:e.colorTextDescription,fontSize:e.fontSizeSM,background:"transparent",border:"none",outline:"none",cursor:"pointer",transition:`all ${e.motionDurationSlow}`,"&:hover":{color:e.colorTextHeading}},"&:hover":{color:a},[`&${p}-active ${p}-btn`]:{color:c,textShadow:e.tabsActiveTextShadow},[`&${p}-disabled`]:{color:e.colorTextDisabled,cursor:"not-allowed"},[`&${p}-disabled ${p}-btn, &${p}-disabled ${t}-remove`]:{"&:focus, &:active":{color:e.colorTextDisabled}},[`& ${p}-remove ${o}`]:{margin:0},[`${o}:not(:last-child)`]:{marginRight:{_skip_check_:!0,value:e.marginSM}}},[`${p} + ${p}`]:{margin:{_skip_check_:!0,value:l}}}},zr=e=>{const{componentCls:t,tabsHorizontalItemMarginRTL:r,iconCls:a,cardGutter:o,calc:l}=e;return{[`${t}-rtl`]:{direction:"rtl",[`${t}-nav`]:{[`${t}-tab`]:{margin:{_skip_check_:!0,value:r},[`${t}-tab:last-of-type`]:{marginLeft:{_skip_check_:!0,value:0}},[a]:{marginRight:{_skip_check_:!0,value:0},marginLeft:{_skip_check_:!0,value:$(e.marginSM)}},[`${t}-tab-remove`]:{marginRight:{_skip_check_:!0,value:$(e.marginXS)},marginLeft:{_skip_check_:!0,value:$(l(e.marginXXS).mul(-1).equal())},[a]:{margin:0}}}},[`&${t}-left`]:{[`> ${t}-nav`]:{order:1},[`> ${t}-content-holder`]:{order:0}},[`&${t}-right`]:{[`> ${t}-nav`]:{order:0},[`> ${t}-content-holder`]:{order:1}},[`&${t}-card${t}-top, &${t}-card${t}-bottom`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab + ${t}-tab`]:{marginRight:{_skip_check_:!0,value:o},marginLeft:{_skip_check_:!0,value:0}}}}},[`${t}-dropdown-rtl`]:{direction:"rtl"},[`${t}-menu-item`]:{[`${t}-dropdown-rtl`]:{textAlign:{_skip_check_:!0,value:"right"}}}}},Ir=e=>{const{componentCls:t,tabsCardPadding:r,cardHeight:a,cardGutter:o,itemHoverColor:l,itemActiveColor:s,colorBorderSecondary:c}=e;return{[t]:Object.assign(Object.assign(Object.assign(Object.assign({},Ye(e)),{display:"flex",[`> ${t}-nav, > div > ${t}-nav`]:{position:"relative",display:"flex",flex:"none",alignItems:"center",[`${t}-nav-wrap`]:{position:"relative",display:"flex",flex:"auto",alignSelf:"stretch",overflow:"hidden",whiteSpace:"nowrap",transform:"translate(0)","&::before, &::after":{position:"absolute",zIndex:1,opacity:0,transition:`opacity ${e.motionDurationSlow}`,content:"''",pointerEvents:"none"}},[`${t}-nav-list`]:{position:"relative",display:"flex",transition:`opacity ${e.motionDurationSlow}`},[`${t}-nav-operations`]:{display:"flex",alignSelf:"stretch"},[`${t}-nav-operations-hidden`]:{position:"absolute",visibility:"hidden",pointerEvents:"none"},[`${t}-nav-more`]:{position:"relative",padding:r,background:"transparent",border:0,color:e.colorText,"&::after":{position:"absolute",right:{_skip_check_:!0,value:0},bottom:0,left:{_skip_check_:!0,value:0},height:e.calc(e.controlHeightLG).div(8).equal(),transform:"translateY(100%)",content:"''"}},[`${t}-nav-add`]:Object.assign({minWidth:a,minHeight:a,marginLeft:{_skip_check_:!0,value:o},padding:`0 ${$(e.paddingXS)}`,background:"transparent",border:`${$(e.lineWidth)} ${e.lineType} ${c}`,borderRadius:`${$(e.borderRadiusLG)} ${$(e.borderRadiusLG)} 0 0`,outline:"none",cursor:"pointer",color:e.colorText,transition:`all ${e.motionDurationSlow} ${e.motionEaseInOut}`,"&:hover":{color:l},"&:active, &:focus:not(:focus-visible)":{color:s}},sa(e))},[`${t}-extra-content`]:{flex:"none"},[`${t}-ink-bar`]:{position:"absolute",background:e.inkBarColor,pointerEvents:"none"}}),Pr(e)),{[`${t}-content`]:{position:"relative",width:"100%"},[`${t}-content-holder`]:{flex:"auto",minWidth:0,minHeight:0},[`${t}-tabpane`]:{outline:"none","&-hidden":{display:"none"}}}),[`${t}-centered`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-nav-wrap`]:{[`&:not([class*='${t}-nav-wrap-ping'])`]:{justifyContent:"center"}}}}}},Mr=e=>{const t=e.controlHeightLG;return{zIndexPopup:e.zIndexPopupBase+50,cardBg:e.colorFillAlter,cardHeight:t,cardPadding:`${(t-Math.round(e.fontSize*e.lineHeight))/2-e.lineWidth}px ${e.padding}px`,cardPaddingSM:`${e.paddingXXS*1.5}px ${e.padding}px`,cardPaddingLG:`${e.paddingXS}px ${e.padding}px ${e.paddingXXS*1.5}px`,titleFontSize:e.fontSize,titleFontSizeLG:e.fontSizeLG,titleFontSizeSM:e.fontSize,inkBarColor:e.colorPrimary,horizontalMargin:`0 0 ${e.margin}px 0`,horizontalItemGutter:32,horizontalItemMargin:"",horizontalItemMarginRTL:"",horizontalItemPadding:`${e.paddingSM}px 0`,horizontalItemPaddingSM:`${e.paddingXS}px 0`,horizontalItemPaddingLG:`${e.padding}px 0`,verticalItemPadding:`${e.paddingXS}px ${e.paddingLG}px`,verticalItemMargin:`${e.margin}px 0 0 0`,itemColor:e.colorText,itemSelectedColor:e.colorPrimary,itemHoverColor:e.colorPrimaryHover,itemActiveColor:e.colorPrimaryActive,cardGutter:e.marginXXS/2}},Lr=it("Tabs",e=>{const t=Et(e,{tabsCardPadding:e.cardPadding,dropdownEdgeChildVerticalPadding:e.paddingXXS,tabsActiveTextShadow:"0 0 0.25px currentcolor",tabsDropdownHeight:200,tabsDropdownWidth:120,tabsHorizontalItemMargin:`0 0 0 ${$(e.horizontalItemGutter)}`,tabsHorizontalItemMarginRTL:`0 0 0 ${$(e.horizontalItemGutter)}`});return[Rr(t),zr(t),Nr(t),Er(t),Cr(t),Ir(t),kr(t)]},Mr),Or=()=>null,Tr=Or;var _r=function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(r[a[o]]=e[a[o]]);return r};const Ia=e=>{var t,r,a,o,l,s,c,d;const{type:p,className:v,rootClassName:x,size:g,onEdit:j,hideAdd:S,centered:w,addIcon:C,removeIcon:E,moreIcon:N,popupClassName:M,children:W,items:_,animated:m,style:f,indicatorSize:k,indicator:R}=e,L=_r(e,["type","className","rootClassName","size","onEdit","hideAdd","centered","addIcon","removeIcon","moreIcon","popupClassName","children","items","animated","style","indicatorSize","indicator"]),{prefixCls:P}=L,{direction:I,tabs:u,getPrefixCls:b,getPopupContainer:B}=i.useContext(We),D=b("tabs",P),O=cn(D),[A,te,V]=Lr(D,O);let U;p==="editable-card"&&(U={onEdit:(ie,ue)=>{let{key:Ee,event:Se}=ue;j==null||j(ie==="add"?Se:Ee,ie)},removeIcon:(t=E??(u==null?void 0:u.removeIcon))!==null&&t!==void 0?t:i.createElement(Kt,null),addIcon:(C??(u==null?void 0:u.addIcon))||i.createElement(ba,null),showAdd:S!==!0});const z=b(),X=Jt(g),K=wr(_,W),q=yr(D,m),ae=Object.assign(Object.assign({},u==null?void 0:u.style),f),le={align:(r=R==null?void 0:R.align)!==null&&r!==void 0?r:(a=u==null?void 0:u.indicator)===null||a===void 0?void 0:a.align,size:(c=(l=(o=R==null?void 0:R.size)!==null&&o!==void 0?o:k)!==null&&l!==void 0?l:(s=u==null?void 0:u.indicator)===null||s===void 0?void 0:s.size)!==null&&c!==void 0?c:u==null?void 0:u.indicatorSize};return A(i.createElement(vr,Object.assign({direction:I,getPopupContainer:B,moreTransitionName:`${z}-slide-up`},L,{items:K,className:G({[`${D}-${X}`]:X,[`${D}-card`]:["card","editable-card"].includes(p),[`${D}-editable-card`]:p==="editable-card",[`${D}-centered`]:w},u==null?void 0:u.className,v,x,te,V,O),popupClassName:G(M,te,V,O),style:ae,editable:U,moreIcon:(d=N??(u==null?void 0:u.moreIcon))!==null&&d!==void 0?d:i.createElement(Ln,null),prefixCls:D,animated:q,indicator:le})))};Ia.TabPane=Tr;const Je=Ia;var Br=function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(r[a[o]]=e[a[o]]);return r};const Hr=e=>{var{prefixCls:t,className:r,hoverable:a=!0}=e,o=Br(e,["prefixCls","className","hoverable"]);const{getPrefixCls:l}=i.useContext(We),s=l("card",t),c=G(`${s}-grid`,r,{[`${s}-grid-hoverable`]:a});return i.createElement("div",Object.assign({},o,{className:c}))},Ma=Hr,Dr=e=>{const{antCls:t,componentCls:r,headerHeight:a,cardPaddingBase:o,tabsMarginBottom:l}=e;return Object.assign(Object.assign({display:"flex",justifyContent:"center",flexDirection:"column",minHeight:a,marginBottom:-1,padding:`0 ${$(o)}`,color:e.colorTextHeading,fontWeight:e.fontWeightStrong,fontSize:e.headerFontSize,background:e.headerBg,borderBottom:`${$(e.lineWidth)} ${e.lineType} ${e.colorBorderSecondary}`,borderRadius:`${$(e.borderRadiusLG)} ${$(e.borderRadiusLG)} 0 0`},lt()),{"&-wrapper":{width:"100%",display:"flex",alignItems:"center"},"&-title":Object.assign(Object.assign({display:"inline-block",flex:1},Nt),{[`
          > ${r}-typography,
          > ${r}-typography-edit-content
        `]:{insetInlineStart:0,marginTop:0,marginBottom:0}}),[`${t}-tabs-top`]:{clear:"both",marginBottom:l,color:e.colorText,fontWeight:"normal",fontSize:e.fontSize,"&-bar":{borderBottom:`${$(e.lineWidth)} ${e.lineType} ${e.colorBorderSecondary}`}}})},Ar=e=>{const{cardPaddingBase:t,colorBorderSecondary:r,cardShadow:a,lineWidth:o}=e;return{width:"33.33%",padding:t,border:0,borderRadius:0,boxShadow:`
      ${$(o)} 0 0 0 ${r},
      0 ${$(o)} 0 0 ${r},
      ${$(o)} ${$(o)} 0 0 ${r},
      ${$(o)} 0 0 0 ${r} inset,
      0 ${$(o)} 0 0 ${r} inset;
    `,transition:`all ${e.motionDurationMid}`,"&-hoverable:hover":{position:"relative",zIndex:1,boxShadow:a}}},Wr=e=>{const{componentCls:t,iconCls:r,actionsLiMargin:a,cardActionsIconSize:o,colorBorderSecondary:l,actionsBg:s}=e;return Object.assign(Object.assign({margin:0,padding:0,listStyle:"none",background:s,borderTop:`${$(e.lineWidth)} ${e.lineType} ${l}`,display:"flex",borderRadius:`0 0 ${$(e.borderRadiusLG)} ${$(e.borderRadiusLG)}`},lt()),{"& > li":{margin:a,color:e.colorTextDescription,textAlign:"center","> span":{position:"relative",display:"block",minWidth:e.calc(e.cardActionsIconSize).mul(2).equal(),fontSize:e.fontSize,lineHeight:e.lineHeight,cursor:"pointer","&:hover":{color:e.colorPrimary,transition:`color ${e.motionDurationMid}`},[`a:not(${t}-btn), > ${r}`]:{display:"inline-block",width:"100%",color:e.colorTextDescription,lineHeight:$(e.fontHeight),transition:`color ${e.motionDurationMid}`,"&:hover":{color:e.colorPrimary}},[`> ${r}`]:{fontSize:o,lineHeight:$(e.calc(o).mul(e.lineHeight).equal())}},"&:not(:last-child)":{borderInlineEnd:`${$(e.lineWidth)} ${e.lineType} ${l}`}}})},Gr=e=>Object.assign(Object.assign({margin:`${$(e.calc(e.marginXXS).mul(-1).equal())} 0`,display:"flex"},lt()),{"&-avatar":{paddingInlineEnd:e.padding},"&-detail":{overflow:"hidden",flex:1,"> div:not(:last-child)":{marginBottom:e.marginXS}},"&-title":Object.assign({color:e.colorTextHeading,fontWeight:e.fontWeightStrong,fontSize:e.fontSizeLG},Nt),"&-description":{color:e.colorTextDescription}}),Fr=e=>{const{componentCls:t,cardPaddingBase:r,colorFillAlter:a}=e;return{[`${t}-head`]:{padding:`0 ${$(r)}`,background:a,"&-title":{fontSize:e.fontSize}},[`${t}-body`]:{padding:`${$(e.padding)} ${$(r)}`}}},Vr=e=>{const{componentCls:t}=e;return{overflow:"hidden",[`${t}-body`]:{userSelect:"none"}}},Ur=e=>{const{antCls:t,componentCls:r,cardShadow:a,cardHeadPadding:o,colorBorderSecondary:l,boxShadowTertiary:s,cardPaddingBase:c,extraColor:d}=e;return{[r]:Object.assign(Object.assign({},Ye(e)),{position:"relative",background:e.colorBgContainer,borderRadius:e.borderRadiusLG,[`&:not(${r}-bordered)`]:{boxShadow:s},[`${r}-head`]:Dr(e),[`${r}-extra`]:{marginInlineStart:"auto",color:d,fontWeight:"normal",fontSize:e.fontSize},[`${r}-body`]:Object.assign({padding:c,borderRadius:` 0 0 ${$(e.borderRadiusLG)} ${$(e.borderRadiusLG)}`},lt()),[`${r}-grid`]:Ar(e),[`${r}-cover`]:{"> *":{display:"block",width:"100%"},[`img, img + ${t}-image-mask`]:{borderRadius:`${$(e.borderRadiusLG)} ${$(e.borderRadiusLG)} 0 0`}},[`${r}-actions`]:Wr(e),[`${r}-meta`]:Gr(e)}),[`${r}-bordered`]:{border:`${$(e.lineWidth)} ${e.lineType} ${l}`,[`${r}-cover`]:{marginTop:-1,marginInlineStart:-1,marginInlineEnd:-1}},[`${r}-hoverable`]:{cursor:"pointer",transition:`box-shadow ${e.motionDurationMid}, border-color ${e.motionDurationMid}`,"&:hover":{borderColor:"transparent",boxShadow:a}},[`${r}-contain-grid`]:{borderRadius:`${$(e.borderRadiusLG)} ${$(e.borderRadiusLG)} 0 0 `,[`${r}-body`]:{display:"flex",flexWrap:"wrap"},[`&:not(${r}-loading) ${r}-body`]:{marginBlockStart:e.calc(e.lineWidth).mul(-1).equal(),marginInlineStart:e.calc(e.lineWidth).mul(-1).equal(),padding:0}},[`${r}-contain-tabs`]:{[`> ${r}-head`]:{minHeight:0,[`${r}-head-title, ${r}-extra`]:{paddingTop:o}}},[`${r}-type-inner`]:Fr(e),[`${r}-loading`]:Vr(e),[`${r}-rtl`]:{direction:"rtl"}}},Xr=e=>{const{componentCls:t,cardPaddingSM:r,headerHeightSM:a,headerFontSizeSM:o}=e;return{[`${t}-small`]:{[`> ${t}-head`]:{minHeight:a,padding:`0 ${$(r)}`,fontSize:o,[`> ${t}-head-wrapper`]:{[`> ${t}-extra`]:{fontSize:e.fontSize}}},[`> ${t}-body`]:{padding:r}},[`${t}-small${t}-contain-tabs`]:{[`> ${t}-head`]:{[`${t}-head-title, ${t}-extra`]:{paddingTop:0,display:"flex",alignItems:"center"}}}}},Kr=e=>({headerBg:"transparent",headerFontSize:e.fontSizeLG,headerFontSizeSM:e.fontSize,headerHeight:e.fontSizeLG*e.lineHeightLG+e.padding*2,headerHeightSM:e.fontSize*e.lineHeight+e.paddingXS*2,actionsBg:e.colorBgContainer,actionsLiMargin:`${e.paddingSM}px 0`,tabsMarginBottom:-e.padding-e.lineWidth,extraColor:e.colorText}),qr=it("Card",e=>{const t=Et(e,{cardShadow:e.boxShadowCard,cardHeadPadding:e.padding,cardPaddingBase:e.paddingLG,cardActionsIconSize:e.fontSize,cardPaddingSM:12});return[Ur(t),Xr(t)]},Kr);var La=function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(r[a[o]]=e[a[o]]);return r};const Yr=e=>{const{actionClasses:t,actions:r=[],actionStyle:a}=e;return i.createElement("ul",{className:t,style:a},r.map((o,l)=>{const s=`action-${l}`;return i.createElement("li",{style:{width:`${100/r.length}%`},key:s},i.createElement("span",null,o))}))},Jr=i.forwardRef((e,t)=>{const{prefixCls:r,className:a,rootClassName:o,style:l,extra:s,headStyle:c={},bodyStyle:d={},title:p,loading:v,bordered:x=!0,size:g,type:j,cover:S,actions:w,tabList:C,children:E,activeTabKey:N,defaultActiveTabKey:M,tabBarExtraContent:W,hoverable:_,tabProps:m={},classNames:f,styles:k}=e,R=La(e,["prefixCls","className","rootClassName","style","extra","headStyle","bodyStyle","title","loading","bordered","size","type","cover","actions","tabList","children","activeTabKey","defaultActiveTabKey","tabBarExtraContent","hoverable","tabProps","classNames","styles"]),{getPrefixCls:L,direction:P,card:I}=i.useContext(We),u=h=>{var T;(T=e.onTabChange)===null||T===void 0||T.call(e,h)},b=h=>{var T;return G((T=I==null?void 0:I.classNames)===null||T===void 0?void 0:T[h],f==null?void 0:f[h])},B=h=>{var T;return Object.assign(Object.assign({},(T=I==null?void 0:I.styles)===null||T===void 0?void 0:T[h]),k==null?void 0:k[h])},D=i.useMemo(()=>{let h=!1;return i.Children.forEach(E,T=>{T&&T.type&&T.type===Ma&&(h=!0)}),h},[E]),O=L("card",r),[A,te,V]=qr(O),U=i.createElement(Zt,{loading:!0,active:!0,paragraph:{rows:4},title:!1},E),z=N!==void 0,X=Object.assign(Object.assign({},m),{[z?"activeKey":"defaultActiveKey"]:z?N:M,tabBarExtraContent:W});let K;const q=Jt(g),ae=!q||q==="default"?"large":q,le=C?i.createElement(Je,Object.assign({size:ae},X,{className:`${O}-head-tabs`,onChange:u,items:C.map(h=>{var{tab:T}=h,se=La(h,["tab"]);return Object.assign({label:T},se)})})):null;if(p||s||le){const h=G(`${O}-head`,b("header")),T=G(`${O}-head-title`,b("title")),se=G(`${O}-extra`,b("extra")),me=Object.assign(Object.assign({},c),B("header"));K=i.createElement("div",{className:h,style:me},i.createElement("div",{className:`${O}-head-wrapper`},p&&i.createElement("div",{className:T,style:B("title")},p),s&&i.createElement("div",{className:se,style:B("extra")},s)),le)}const ie=G(`${O}-cover`,b("cover")),ue=S?i.createElement("div",{className:ie,style:B("cover")},S):null,Ee=G(`${O}-body`,b("body")),Se=Object.assign(Object.assign({},d),B("body")),ze=i.createElement("div",{className:Ee,style:Se},v?U:E),Ne=G(`${O}-actions`,b("actions")),Ie=w&&w.length?i.createElement(Yr,{actionClasses:Ne,actionStyle:B("actions"),actions:w}):null,F=dn(R,["onTabChange"]),$e=G(O,I==null?void 0:I.className,{[`${O}-loading`]:v,[`${O}-bordered`]:x,[`${O}-hoverable`]:_,[`${O}-contain-grid`]:D,[`${O}-contain-tabs`]:C&&C.length,[`${O}-${q}`]:q,[`${O}-type-${j}`]:!!j,[`${O}-rtl`]:P==="rtl"},a,o,te,V),ke=Object.assign(Object.assign({},I==null?void 0:I.style),l);return A(i.createElement("div",Object.assign({ref:t},F,{className:$e,style:ke}),K,ue,ze,Ie))}),Zr=Jr;var Qr=function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(r[a[o]]=e[a[o]]);return r};const eo=e=>{const{prefixCls:t,className:r,avatar:a,title:o,description:l}=e,s=Qr(e,["prefixCls","className","avatar","title","description"]),{getPrefixCls:c}=i.useContext(We),d=c("card",t),p=G(`${d}-meta`,r),v=a?i.createElement("div",{className:`${d}-meta-avatar`},a):null,x=o?i.createElement("div",{className:`${d}-meta-title`},o):null,g=l?i.createElement("div",{className:`${d}-meta-description`},l):null,j=x||g?i.createElement("div",{className:`${d}-meta-detail`},x,g):null;return i.createElement("div",Object.assign({},s,{className:p}),v,j)},to=eo,zt=Zr;zt.Grid=Ma,zt.Meta=to;const Oa=zt;var ao={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494zM504 618H320c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zM312 490v48c0 4.4 3.6 8 8 8h384c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H320c-4.4 0-8 3.6-8 8z"}}]},name:"file-text",theme:"outlined"};const no=ao;var ro=function(e,t){return i.createElement(fe,Q({},e,{ref:t,icon:no}))},oo=i.forwardRef(ro);const io=oo,so=e=>{const{value:t,formatter:r,precision:a,decimalSeparator:o,groupSeparator:l="",prefixCls:s}=e;let c;if(typeof r=="function")c=r(t);else{const d=String(t),p=d.match(/^(-?)(\d*)(\.(\d+))?$/);if(!p||d==="-")c=d;else{const v=p[1];let x=p[2]||"0",g=p[4]||"";x=x.replace(/\B(?=(\d{3})+(?!\d))/g,l),typeof a=="number"&&(g=g.padEnd(a,"0").slice(0,a>0?a:0)),g&&(g=`${o}${g}`),c=[i.createElement("span",{key:"int",className:`${s}-content-value-int`},v,x),g&&i.createElement("span",{key:"decimal",className:`${s}-content-value-decimal`},g)]}}return i.createElement("span",{className:`${s}-content-value`},c)},lo=so,co=e=>{const{componentCls:t,marginXXS:r,padding:a,colorTextDescription:o,titleFontSize:l,colorTextHeading:s,contentFontSize:c,fontFamily:d}=e;return{[`${t}`]:Object.assign(Object.assign({},Ye(e)),{[`${t}-title`]:{marginBottom:r,color:o,fontSize:l},[`${t}-skeleton`]:{paddingTop:a},[`${t}-content`]:{color:s,fontSize:c,fontFamily:d,[`${t}-content-value`]:{display:"inline-block",direction:"ltr"},[`${t}-content-prefix, ${t}-content-suffix`]:{display:"inline-block"},[`${t}-content-prefix`]:{marginInlineEnd:r},[`${t}-content-suffix`]:{marginInlineStart:r}}})}},uo=e=>{const{fontSizeHeading3:t,fontSize:r}=e;return{titleFontSize:r,contentFontSize:t}},mo=it("Statistic",e=>{const t=Et(e,{});return[co(t)]},uo);var ho=function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(r[a[o]]=e[a[o]]);return r};const po=e=>{const{prefixCls:t,className:r,rootClassName:a,style:o,valueStyle:l,value:s=0,title:c,valueRender:d,prefix:p,suffix:v,loading:x=!1,formatter:g,precision:j,decimalSeparator:S=".",groupSeparator:w=",",onMouseEnter:C,onMouseLeave:E}=e,N=ho(e,["prefixCls","className","rootClassName","style","valueStyle","value","title","valueRender","prefix","suffix","loading","formatter","precision","decimalSeparator","groupSeparator","onMouseEnter","onMouseLeave"]),{getPrefixCls:M,direction:W,statistic:_}=i.useContext(We),m=M("statistic",t),[f,k,R]=mo(m),L=i.createElement(lo,{decimalSeparator:S,groupSeparator:w,prefixCls:m,formatter:g,precision:j,value:s}),P=G(m,{[`${m}-rtl`]:W==="rtl"},_==null?void 0:_.className,r,a,k,R),I=Xt(N,{aria:!0,data:!0});return f(i.createElement("div",Object.assign({},I,{className:P,style:Object.assign(Object.assign({},_==null?void 0:_.style),o),onMouseEnter:C,onMouseLeave:E}),c&&i.createElement("div",{className:`${m}-title`},c),i.createElement(Zt,{paragraph:!1,loading:x,className:`${m}-skeleton`},i.createElement("div",{style:l,className:`${m}-content`},p&&i.createElement("span",{className:`${m}-content-prefix`},p),d?d(L):L,v&&i.createElement("span",{className:`${m}-content-suffix`},v)))))},_e=po,go=[["Y",1e3*60*60*24*365],["M",1e3*60*60*24*30],["D",1e3*60*60*24],["H",1e3*60*60],["m",1e3*60],["s",1e3],["S",1]];function fo(e,t){let r=e;const a=/\[[^\]]*]/g,o=(t.match(a)||[]).map(d=>d.slice(1,-1)),l=t.replace(a,"[]"),s=go.reduce((d,p)=>{let[v,x]=p;if(d.includes(v)){const g=Math.floor(r/x);return r-=g*x,d.replace(new RegExp(`${v}+`,"g"),j=>{const S=j.length;return g.toString().padStart(S,"0")})}return d},l);let c=0;return s.replace(a,()=>{const d=o[c];return c+=1,d})}function bo(e,t){const{format:r=""}=t,a=new Date(e).getTime(),o=Date.now(),l=Math.max(a-o,0);return fo(l,r)}var vo=function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(r[a[o]]=e[a[o]]);return r};const xo=1e3/30;function yo(e){return new Date(e).getTime()}const $o=e=>{const{value:t,format:r="HH:mm:ss",onChange:a,onFinish:o}=e,l=vo(e,["value","format","onChange","onFinish"]),s=un(),c=i.useRef(null),d=()=>{o==null||o(),c.current&&(clearInterval(c.current),c.current=null)},p=()=>{const g=yo(t);g>=Date.now()&&(c.current=setInterval(()=>{s(),a==null||a(g-Date.now()),g<Date.now()&&d()},xo))};i.useEffect(()=>(p(),()=>{c.current&&(clearInterval(c.current),c.current=null)}),[t]);const v=(g,j)=>bo(g,Object.assign(Object.assign({},j),{format:r})),x=g=>mn(g,{title:void 0});return i.createElement(_e,Object.assign({},l,{value:t,valueRender:x,formatter:v}))},jo=i.memo($o);_e.Countdown=jo;var wo={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M464 144H160c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V160c0-8.8-7.2-16-16-16zm-52 268H212V212h200v200zm452-268H560c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V160c0-8.8-7.2-16-16-16zm-52 268H612V212h200v200zM464 544H160c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V560c0-8.8-7.2-16-16-16zm-52 268H212V612h200v200zm452-268H560c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V560c0-8.8-7.2-16-16-16zm-52 268H612V612h200v200z"}}]},name:"appstore",theme:"outlined"};const So=wo;var ko=function(e,t){return i.createElement(fe,Q({},e,{ref:t,icon:So}))},Co=i.forwardRef(ko);const Eo=Co;var No={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm0 76c-205.4 0-372 166.6-372 372s166.6 372 372 372 372-166.6 372-372-166.6-372-372-372zm128.01 198.83c.03 0 .05.01.09.06l45.02 45.01a.2.2 0 01.05.09.12.12 0 010 .07c0 .02-.01.04-.05.08L557.25 512l127.87 127.86a.27.27 0 01.05.06v.02a.12.12 0 010 .07c0 .03-.01.05-.05.09l-45.02 45.02a.2.2 0 01-.09.05.12.12 0 01-.07 0c-.02 0-.04-.01-.08-.05L512 557.25 384.14 685.12c-.04.04-.06.05-.08.05a.12.12 0 01-.07 0c-.03 0-.05-.01-.09-.05l-45.02-45.02a.2.2 0 01-.05-.09.12.12 0 010-.07c0-.02.01-.04.06-.08L466.75 512 338.88 384.14a.27.27 0 01-.05-.06l-.01-.02a.12.12 0 010-.07c0-.03.01-.05.05-.09l45.02-45.02a.2.2 0 01.09-.05.12.12 0 01.07 0c.02 0 .04.01.08.06L512 466.75l127.86-127.86c.04-.05.06-.06.08-.06a.12.12 0 01.07 0z"}}]},name:"close-circle",theme:"outlined"};const Ro=No;var Po=function(e,t){return i.createElement(fe,Q({},e,{ref:t,icon:Ro}))},zo=i.forwardRef(Po);const Ta=zo;var Io={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M811.4 368.9C765.6 248 648.9 162 512.2 162S258.8 247.9 213 368.8C126.9 391.5 63.5 470.2 64 563.6 64.6 668 145.6 752.9 247.6 762c4.7.4 8.7-3.3 8.7-8v-60.4c0-4-3-7.4-7-7.9-27-3.4-52.5-15.2-72.1-34.5-24-23.5-37.2-55.1-37.2-88.6 0-28 9.1-54.4 26.2-76.4 16.7-21.4 40.2-36.9 66.1-43.7l37.9-10 13.9-36.7c8.6-22.8 20.6-44.2 35.7-63.5 14.9-19.2 32.6-36 52.4-50 41.1-28.9 89.5-44.2 140-44.2s98.9 15.3 140 44.3c19.9 14 37.5 30.8 52.4 50 15.1 19.3 27.1 40.7 35.7 63.5l13.8 36.6 37.8 10c54.2 14.4 92.1 63.7 92.1 120 0 33.6-13.2 65.1-37.2 88.6-19.5 19.2-44.9 31.1-71.9 34.5-4 .5-6.9 3.9-6.9 7.9V754c0 4.7 4.1 8.4 8.8 8 101.7-9.2 182.5-94 183.2-198.2.6-93.4-62.7-172.1-148.6-194.9z"}},{tag:"path",attrs:{d:"M376.9 656.4c1.8-33.5 15.7-64.7 39.5-88.6 25.4-25.5 60-39.8 96-39.8 36.2 0 70.3 14.1 96 39.8 1.4 1.4 2.7 2.8 4.1 4.3l-25 19.6a8 8 0 003 14.1l98.2 24c5 1.2 9.9-2.6 9.9-7.7l.5-101.3c0-6.7-7.6-10.5-12.9-6.3L663 532.7c-36.6-42-90.4-68.6-150.5-68.6-107.4 0-195 85.1-199.4 191.7-.2 4.5 3.4 8.3 8 8.3H369c4.2-.1 7.7-3.4 7.9-7.7zM703 664h-47.9c-4.2 0-7.7 3.3-8 7.6-1.8 33.5-15.7 64.7-39.5 88.6-25.4 25.5-60 39.8-96 39.8-36.2 0-70.3-14.1-96-39.8-1.4-1.4-2.7-2.8-4.1-4.3l25-19.6a8 8 0 00-3-14.1l-98.2-24c-5-1.2-9.9 2.6-9.9 7.7l-.4 101.4c0 6.7 7.6 10.5 12.9 6.3l23.2-18.2c36.6 42 90.4 68.6 150.5 68.6 107.4 0 195-85.1 199.4-191.7.2-4.5-3.4-8.3-8-8.3z"}}]},name:"cloud-sync",theme:"outlined"};const Mo=Io;var Lo=function(e,t){return i.createElement(fe,Q({},e,{ref:t,icon:Mo}))},Oo=i.forwardRef(Lo);const To=Oo;var _o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M516 673c0 4.4 3.4 8 7.5 8h185c4.1 0 7.5-3.6 7.5-8v-48c0-4.4-3.4-8-7.5-8h-185c-4.1 0-7.5 3.6-7.5 8v48zm-194.9 6.1l192-161c3.8-3.2 3.8-9.1 0-12.3l-192-160.9A7.95 7.95 0 00308 351v62.7c0 2.4 1 4.6 2.9 6.1L420.7 512l-109.8 92.2a8.1 8.1 0 00-2.9 6.1V673c0 6.8 7.9 10.5 13.1 6.1zM880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"code",theme:"outlined"};const Bo=_o;var Ho=function(e,t){return i.createElement(fe,Q({},e,{ref:t,icon:Bo}))},Do=i.forwardRef(Ho);const Ao=Do;var Wo={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 472a40 40 0 1080 0 40 40 0 10-80 0zm367 352.9L696.3 352V178H768v-68H256v68h71.7v174L145 824.9c-2.8 7.4-4.3 15.2-4.3 23.1 0 35.3 28.7 64 64 64h614.6c7.9 0 15.7-1.5 23.1-4.3 33-12.7 49.4-49.8 36.6-82.8zM395.7 364.7V180h232.6v184.7L719.2 600c-20.7-5.3-42.1-8-63.9-8-61.2 0-119.2 21.5-165.3 60a188.78 188.78 0 01-121.3 43.9c-32.7 0-64.1-8.3-91.8-23.7l118.8-307.5zM210.5 844l41.7-107.8c35.7 18.1 75.4 27.8 116.6 27.8 61.2 0 119.2-21.5 165.3-60 33.9-28.2 76.3-43.9 121.3-43.9 35 0 68.4 9.5 97.6 27.1L813.5 844h-603z"}}]},name:"experiment",theme:"outlined"};const Go=Wo;var Fo=function(e,t){return i.createElement(fe,Q({},e,{ref:t,icon:Go}))},Vo=i.forwardRef(Fo);const Uo=Vo;var Xo={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 912H144c-17.7 0-32-14.3-32-32V144c0-17.7 14.3-32 32-32h360c4.4 0 8 3.6 8 8v56c0 4.4-3.6 8-8 8H184v656h656V520c0-4.4 3.6-8 8-8h56c4.4 0 8 3.6 8 8v360c0 17.7-14.3 32-32 32zM770.87 199.13l-52.2-52.2a8.01 8.01 0 014.7-13.6l179.4-21c5.1-.6 9.5 3.7 8.9 8.9l-21 179.4c-.8 6.6-8.9 9.4-13.6 4.7l-52.4-52.4-256.2 256.2a8.03 8.03 0 01-11.3 0l-42.4-42.4a8.03 8.03 0 010-11.3l256.1-256.3z"}}]},name:"export",theme:"outlined"};const Ko=Xo;var qo=function(e,t){return i.createElement(fe,Q({},e,{ref:t,icon:Ko}))},Yo=i.forwardRef(qo);const Jo=Yo;var Zo={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880.1 154H143.9c-24.5 0-39.8 26.7-27.5 48L349 597.4V838c0 17.7 14.2 32 31.8 32h262.4c17.6 0 31.8-14.3 31.8-32V597.4L907.7 202c12.2-21.3-3.1-48-27.6-48zM603.4 798H420.6V642h182.9v156zm9.6-236.6l-9.5 16.6h-183l-9.5-16.6L212.7 226h598.6L613 561.4z"}}]},name:"filter",theme:"outlined"};const Qo=Zo;var ei=function(e,t){return i.createElement(fe,Q({},e,{ref:t,icon:Qo}))},ti=i.forwardRef(ei);const ai=ti;var ni={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.4 800.9c.2-.3.5-.6.7-.9C920.6 722.1 960 621.7 960 512s-39.4-210.1-104.8-288c-.2-.3-.5-.5-.7-.8-1.1-1.3-2.1-2.5-3.2-3.7-.4-.5-.8-.9-1.2-1.4l-4.1-4.7-.1-.1c-1.5-1.7-3.1-3.4-4.6-5.1l-.1-.1c-3.2-3.4-6.4-6.8-9.7-10.1l-.1-.1-4.8-4.8-.3-.3c-1.5-1.5-3-2.9-4.5-4.3-.5-.5-1-1-1.6-1.5-1-1-2-1.9-3-2.8-.3-.3-.7-.6-1-1C736.4 109.2 629.5 64 512 64s-224.4 45.2-304.3 119.2c-.3.3-.7.6-1 1-1 .9-2 1.9-3 2.9-.5.5-1 1-1.6 1.5-1.5 1.4-3 2.9-4.5 4.3l-.3.3-4.8 4.8-.1.1c-3.3 3.3-6.5 6.7-9.7 10.1l-.1.1c-1.6 1.7-3.1 3.4-4.6 5.1l-.1.1c-1.4 1.5-2.8 3.1-4.1 4.7-.4.5-.8.9-1.2 1.4-1.1 1.2-2.1 2.5-3.2 3.7-.2.3-.5.5-.7.8C103.4 301.9 64 402.3 64 512s39.4 210.1 104.8 288c.2.3.5.6.7.9l3.1 3.7c.4.5.8.9 1.2 1.4l4.1 4.7c0 .1.1.1.1.2 1.5 1.7 3 3.4 4.6 5l.1.1c3.2 3.4 6.4 6.8 9.6 10.1l.1.1c1.6 1.6 3.1 3.2 4.7 4.7l.3.3c3.3 3.3 6.7 6.5 10.1 9.6 80.1 74 187 119.2 304.5 119.2s224.4-45.2 304.3-119.2a300 300 0 0010-9.6l.3-.3c1.6-1.6 3.2-3.1 4.7-4.7l.1-.1c3.3-3.3 6.5-6.7 9.6-10.1l.1-.1c1.5-1.7 3.1-3.3 4.6-5 0-.1.1-.1.1-.2 1.4-1.5 2.8-3.1 4.1-4.7.4-.5.8-.9 1.2-1.4a99 99 0 003.3-3.7zm4.1-142.6c-13.8 32.6-32 62.8-54.2 90.2a444.07 444.07 0 00-81.5-55.9c11.6-46.9 18.8-98.4 20.7-152.6H887c-3 40.9-12.6 80.6-28.5 118.3zM887 484H743.5c-1.9-54.2-9.1-105.7-20.7-152.6 29.3-15.6 56.6-34.4 81.5-55.9A373.86 373.86 0 01887 484zM658.3 165.5c39.7 16.8 75.8 40 107.6 69.2a394.72 394.72 0 01-59.4 41.8c-15.7-45-35.8-84.1-59.2-115.4 3.7 1.4 7.4 2.9 11 4.4zm-90.6 700.6c-9.2 7.2-18.4 12.7-27.7 16.4V697a389.1 389.1 0 01115.7 26.2c-8.3 24.6-17.9 47.3-29 67.8-17.4 32.4-37.8 58.3-59 75.1zm59-633.1c11 20.6 20.7 43.3 29 67.8A389.1 389.1 0 01540 327V141.6c9.2 3.7 18.5 9.1 27.7 16.4 21.2 16.7 41.6 42.6 59 75zM540 640.9V540h147.5c-1.6 44.2-7.1 87.1-16.3 127.8l-.3 1.2A445.02 445.02 0 00540 640.9zm0-156.9V383.1c45.8-2.8 89.8-12.5 130.9-28.1l.3 1.2c9.2 40.7 14.7 83.5 16.3 127.8H540zm-56 56v100.9c-45.8 2.8-89.8 12.5-130.9 28.1l-.3-1.2c-9.2-40.7-14.7-83.5-16.3-127.8H484zm-147.5-56c1.6-44.2 7.1-87.1 16.3-127.8l.3-1.2c41.1 15.6 85 25.3 130.9 28.1V484H336.5zM484 697v185.4c-9.2-3.7-18.5-9.1-27.7-16.4-21.2-16.7-41.7-42.7-59.1-75.1-11-20.6-20.7-43.3-29-67.8 37.2-14.6 75.9-23.3 115.8-26.1zm0-370a389.1 389.1 0 01-115.7-26.2c8.3-24.6 17.9-47.3 29-67.8 17.4-32.4 37.8-58.4 59.1-75.1 9.2-7.2 18.4-12.7 27.7-16.4V327zM365.7 165.5c3.7-1.5 7.3-3 11-4.4-23.4 31.3-43.5 70.4-59.2 115.4-21-12-40.9-26-59.4-41.8 31.8-29.2 67.9-52.4 107.6-69.2zM165.5 365.7c13.8-32.6 32-62.8 54.2-90.2 24.9 21.5 52.2 40.3 81.5 55.9-11.6 46.9-18.8 98.4-20.7 152.6H137c3-40.9 12.6-80.6 28.5-118.3zM137 540h143.5c1.9 54.2 9.1 105.7 20.7 152.6a444.07 444.07 0 00-81.5 55.9A373.86 373.86 0 01137 540zm228.7 318.5c-39.7-16.8-75.8-40-107.6-69.2 18.5-15.8 38.4-29.7 59.4-41.8 15.7 45 35.8 84.1 59.2 115.4-3.7-1.4-7.4-2.9-11-4.4zm292.6 0c-3.7 1.5-7.3 3-11 4.4 23.4-31.3 43.5-70.4 59.2-115.4 21 12 40.9 26 59.4 41.8a373.81 373.81 0 01-107.6 69.2z"}}]},name:"global",theme:"outlined"};const ri=ni;var oi=function(e,t){return i.createElement(fe,Q({},e,{ref:t,icon:ri}))},ii=i.forwardRef(oi);const si=ii;var li={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 912H144c-17.7 0-32-14.3-32-32V144c0-17.7 14.3-32 32-32h360c4.4 0 8 3.6 8 8v56c0 4.4-3.6 8-8 8H184v656h656V520c0-4.4 3.6-8 8-8h56c4.4 0 8 3.6 8 8v360c0 17.7-14.3 32-32 32zM653.3 424.6l52.2 52.2a8.01 8.01 0 01-4.7 13.6l-179.4 21c-5.1.6-9.5-3.7-8.9-8.9l21-179.4c.8-6.6 8.9-9.4 13.6-4.7l52.4 52.4 256.2-256.2c3.1-3.1 8.2-3.1 11.3 0l42.4 42.4c3.1 3.1 3.1 8.2 0 11.3L653.3 424.6z"}}]},name:"import",theme:"outlined"};const ci=li;var di=function(e,t){return i.createElement(fe,Q({},e,{ref:t,icon:ci}))},ui=i.forwardRef(di);const mi=ui;var hi={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 336a48 48 0 1096 0 48 48 0 10-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z"}}]},name:"info-circle",theme:"outlined"};const pi=hi;var gi=function(e,t){return i.createElement(fe,Q({},e,{ref:t,icon:pi}))},fi=i.forwardRef(gi);const gt=fi;var bi={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M924.8 625.7l-65.5-56c3.1-19 4.7-38.4 4.7-57.8s-1.6-38.8-4.7-57.8l65.5-56a32.03 32.03 0 009.3-35.2l-.9-2.6a443.74 443.74 0 00-79.7-137.9l-1.8-2.1a32.12 32.12 0 00-35.1-9.5l-81.3 28.9c-30-24.6-63.5-44-99.7-57.6l-15.7-85a32.05 32.05 0 00-25.8-25.7l-2.7-.5c-52.1-9.4-106.9-9.4-159 0l-2.7.5a32.05 32.05 0 00-25.8 25.7l-15.8 85.4a351.86 351.86 0 00-99 57.4l-81.9-29.1a32 32 0 00-35.1 9.5l-1.8 2.1a446.02 446.02 0 00-79.7 137.9l-.9 2.6c-4.5 12.5-.8 26.5 9.3 35.2l66.3 56.6c-3.1 18.8-4.6 38-4.6 57.1 0 19.2 1.5 38.4 4.6 57.1L99 625.5a32.03 32.03 0 00-9.3 35.2l.9 2.6c18.1 50.4 44.9 96.9 79.7 137.9l1.8 2.1a32.12 32.12 0 0035.1 9.5l81.9-29.1c29.8 24.5 63.1 43.9 99 57.4l15.8 85.4a32.05 32.05 0 0025.8 25.7l2.7.5a449.4 449.4 0 00159 0l2.7-.5a32.05 32.05 0 0025.8-25.7l15.7-85a350 350 0 0099.7-57.6l81.3 28.9a32 32 0 0035.1-9.5l1.8-2.1c34.8-41.1 61.6-87.5 79.7-137.9l.9-2.6c4.5-12.3.8-26.3-9.3-35zM788.3 465.9c2.5 15.1 3.8 30.6 3.8 46.1s-1.3 31-3.8 46.1l-6.6 40.1 74.7 63.9a370.03 370.03 0 01-42.6 73.6L721 702.8l-31.4 25.8c-23.9 19.6-50.5 35-79.3 45.8l-38.1 14.3-17.9 97a377.5 377.5 0 01-85 0l-17.9-97.2-37.8-14.5c-28.5-10.8-55-26.2-78.7-45.7l-31.4-25.9-93.4 33.2c-17-22.9-31.2-47.6-42.6-73.6l75.5-64.5-6.5-40c-2.4-14.9-3.7-30.3-3.7-45.5 0-15.3 1.2-30.6 3.7-45.5l6.5-40-75.5-64.5c11.3-26.1 25.6-50.7 42.6-73.6l93.4 33.2 31.4-25.9c23.7-19.5 50.2-34.9 78.7-45.7l37.9-14.3 17.9-97.2c28.1-3.2 56.8-3.2 85 0l17.9 97 38.1 14.3c28.7 10.8 55.4 26.2 79.3 45.8l31.4 25.8 92.8-32.9c17 22.9 31.2 47.6 42.6 73.6L781.8 426l6.5 39.9zM512 326c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm79.2 255.2A111.6 111.6 0 01512 614c-29.9 0-58-11.7-79.2-32.8A111.6 111.6 0 01400 502c0-29.9 11.7-58 32.8-79.2C454 401.6 482.1 390 512 390c29.9 0 58 11.6 79.2 32.8A111.6 111.6 0 01624 502c0 29.9-11.7 58-32.8 79.2z"}}]},name:"setting",theme:"outlined"};const vi=bi;var xi=function(e,t){return i.createElement(fe,Q({},e,{ref:t,icon:vi}))},yi=i.forwardRef(xi);const $i=yi,Be="auto_save_settings",He="auto_save_tasks";var we=(e=>(e.WAITING="waiting",e.SAVING="saving",e.COMPLETED="completed",e.FAILED="failed",e))(we||{});const ye=new Map,pe=new Qt({area:"local"}),Ze=(e,t)=>{if(t==="*")return y.debug(`URL\u5339\u914D: ${e} \u5339\u914D\u5168\u5C40\u901A\u914D\u7B26 *`),!0;try{let r;try{!e.startsWith("http://")&&!e.startsWith("https://")&&(e="https://"+e),r=new URL(e)}catch{return y.error("\u65E0\u6548\u7684URL\u683C\u5F0F:",e),!1}const a=r.hostname,o=r.pathname,l=r.href;if(y.debug(`URL\u89E3\u6790: ${e} => \u4E3B\u673A\u540D=${a}, \u8DEF\u5F84=${o}, \u5B8C\u6574URL=${l}`),t.startsWith("*.")){const s=t.substring(2),c=a===s||a.endsWith("."+s);return y.debug(`\u57DF\u540D\u901A\u914D\u7B26\u5339\u914D: ${a} \u4E0E ${t} => ${c?"\u5339\u914D":"\u4E0D\u5339\u914D"}`),y.debug(`\u5339\u914D\u8BE6\u60C5: domain=${s}, \u68C0\u67E5\u6761\u4EF61=${a===s}, \u68C0\u67E5\u6761\u4EF62=${a.endsWith("."+s)}`),c}else if(t.endsWith("/*")){const s=t.substring(0,t.length-2);let c=!1;return s.includes("://")?c=l.startsWith(s):c=l.includes("://"+s),y.debug(`\u8DEF\u5F84\u901A\u914D\u7B26\u5339\u914D: ${l} \u4E0E ${t} => ${c?"\u5339\u914D":"\u4E0D\u5339\u914D"}`),c}else if(t.includes("*")){const s=t.replace(/\./g,"\\.").replace(/\*/g,".*"),c=new RegExp(`^${s}$`),d=c.test(l),p=c.test(a),v=c.test(o),x=d||p||v;return y.debug(`\u6B63\u5219\u8868\u8FBE\u5F0F\u5339\u914D: ${e} \u4E0E ${t} (\u6B63\u5219=${s}) => ${x?"\u5339\u914D":"\u4E0D\u5339\u914D"}`),y.debug(`\u5339\u914D\u8BE6\u60C5: \u5B8C\u6574URL=${d}, \u4E3B\u673A\u540D=${p}, \u8DEF\u5F84=${v}`),x}else{const s=l.includes(t)||a.includes(t);return y.debug(`\u7CBE\u786E\u5339\u914D: ${l} \u662F\u5426\u5305\u542B ${t} => ${s?"\u5339\u914D":"\u4E0D\u5339\u914D"}`),s}}catch(r){return y.error("URL\u5339\u914D\u89C4\u5219\u89E3\u6790\u9519\u8BEF:",r),!1}},It=async(e,t)=>{var r;if(!e)return y.debug("URL\u4E3A\u7A7A\uFF0C\u4E0D\u4F1A\u81EA\u52A8\u4FDD\u5B58"),{shouldSave:!1,matchedRule:""};try{let a=e;if(!a.startsWith("http://")&&!a.startsWith("https://")&&(a="https://"+a,y.debug(`URL\u683C\u5F0F\u6807\u51C6\u5316: ${e} => ${a}`)),t||(t=await pe.get(Be),y.debug("\u4ECE\u5B58\u50A8\u4E2D\u83B7\u53D6\u81EA\u52A8\u4FDD\u5B58\u8BBE\u7F6E",{enabled:t==null?void 0:t.enabled,paused:t==null?void 0:t.paused,rulesCount:(r=t==null?void 0:t.websites)==null?void 0:r.length})),!t||!t.enabled)return y.debug("\u81EA\u52A8\u4FDD\u5B58\u529F\u80FD\u672A\u542F\u7528\uFF0C\u4E0D\u4F1A\u81EA\u52A8\u4FDD\u5B58",{url:a}),{shouldSave:!1,matchedRule:""};if(t.paused)return y.debug("\u81EA\u52A8\u4FDD\u5B58\u529F\u80FD\u5DF2\u6682\u505C\uFF0C\u4E0D\u4F1A\u81EA\u52A8\u4FDD\u5B58",{url:a}),{shouldSave:!1,matchedRule:""};const o=t.websites.filter(d=>d.enabled);if(y.debug("\u83B7\u53D6\u542F\u7528\u7684\u89C4\u5219",{url:a,enabledRulesCount:o.length,rules:o.map(d=>d.pattern)}),o.length===0)return y.debug("\u6CA1\u6709\u542F\u7528\u7684\u89C4\u5219\uFF0C\u4E0D\u4F1A\u81EA\u52A8\u4FDD\u5B58",{url:a}),{shouldSave:!1,matchedRule:""};y.debug("\u5F00\u59CB\u6309\u4F18\u5148\u7EA7\u68C0\u67E5\u89C4\u5219",{url:a});const l=o.filter(d=>d.pattern.startsWith("!"));y.debug("\u68C0\u67E5\u6392\u9664\u89C4\u5219",{url:a,excludeRulesCount:l.length});for(const d of l){const p=d.pattern.substring(1);if(y.debug(`\u68C0\u67E5\u6392\u9664\u89C4\u5219: ${a} \u4E0E ${p}`),Ze(a,p))return y.info(`URL ${a} \u5339\u914D\u6392\u9664\u89C4\u5219 ${d.pattern}\uFF0C\u4E0D\u4F1A\u81EA\u52A8\u4FDD\u5B58`),{shouldSave:!1,matchedRule:d.pattern}}const s=o.filter(d=>!d.pattern.startsWith("!")&&!d.pattern.includes("*"));y.debug("\u68C0\u67E5\u7CBE\u786E\u5339\u914D\u89C4\u5219",{url:a,exactRulesCount:s.length});for(const d of s)if(y.debug(`\u68C0\u67E5\u7CBE\u786E\u89C4\u5219: ${a} \u4E0E ${d.pattern}`),Ze(a,d.pattern))return y.info(`URL ${a} \u5339\u914D\u7CBE\u786E\u89C4\u5219 ${d.pattern}\uFF0C\u5C06\u81EA\u52A8\u4FDD\u5B58`),{shouldSave:!0,matchedRule:d.pattern};const c=o.filter(d=>!d.pattern.startsWith("!")&&d.pattern.includes("*"));y.debug("\u68C0\u67E5\u901A\u914D\u7B26\u89C4\u5219",{url:a,wildcardRulesCount:c.length});for(const d of c)if(y.debug(`\u68C0\u67E5\u901A\u914D\u7B26\u89C4\u5219: ${a} \u4E0E ${d.pattern}`),Ze(a,d.pattern))return y.info(`URL ${a} \u5339\u914D\u901A\u914D\u7B26\u89C4\u5219 ${d.pattern}\uFF0C\u5C06\u81EA\u52A8\u4FDD\u5B58`),{shouldSave:!0,matchedRule:d.pattern};return y.debug(`URL ${a} \u4E0D\u5339\u914D\u4EFB\u4F55\u89C4\u5219\uFF0C\u4E0D\u4F1A\u81EA\u52A8\u4FDD\u5B58`),{shouldSave:!1,matchedRule:""}}catch(a){return y.error("\u68C0\u67E5URL\u662F\u5426\u5E94\u8BE5\u81EA\u52A8\u4FDD\u5B58\u65F6\u51FA\u9519:",a),{shouldSave:!1,matchedRule:""}}},_a=async(e,t)=>(await It(e,t)).shouldSave,ji=async e=>{try{return(await ct({searchText:e})).some(t=>t.url===e)}catch(t){return y.error("\u68C0\u67E5URL\u662F\u5426\u5DF2\u4FDD\u5B58\u65F6\u51FA\u9519:",t),!1}},wi=async e=>{try{return e||(e=await pe.get(Be)),!e||!e.maxPages?!1:(await ct()).length>=e.maxPages}catch(t){return y.error("\u68C0\u67E5\u6700\u5927\u9875\u9762\u6570\u91CF\u9650\u5236\u65F6\u51FA\u9519:",t),!1}},Si=async e=>{try{const t=await Ke.tabs.get(e),r=t.url,a=t.title||"";if(!r||r.startsWith("chrome://")||r.startsWith("edge://")||r.startsWith("about:")){y.debug("\u8DF3\u8FC7\u4FDD\u5B58\u6D4F\u89C8\u5668\u5185\u90E8\u9875\u9762:",r);return}const o=await pe.get(Be);if(y.debug("\u68C0\u67E5URL\u662F\u5426\u5E94\u8BE5\u81EA\u52A8\u4FDD\u5B58",{url:r,title:a,enabled:o==null?void 0:o.enabled,paused:o==null?void 0:o.paused}),!o||!o.enabled){y.debug("\u81EA\u52A8\u4FDD\u5B58\u529F\u80FD\u672A\u542F\u7528\uFF0C\u8DF3\u8FC7\u81EA\u52A8\u4FDD\u5B58:",r);return}if(o.paused){y.debug("\u81EA\u52A8\u4FDD\u5B58\u529F\u80FD\u5DF2\u6682\u505C\uFF0C\u8DF3\u8FC7\u81EA\u52A8\u4FDD\u5B58:",r);return}if(!await _a(r,o)){y.debug("URL\u4E0D\u7B26\u5408\u81EA\u52A8\u4FDD\u5B58\u89C4\u5219\uFF0C\u8DF3\u8FC7\u81EA\u52A8\u4FDD\u5B58:",r);return}if(await wi(o)){y.warn(`\u5DF2\u8FBE\u5230\u6700\u5927\u4FDD\u5B58\u9875\u9762\u6570\u91CF\u9650\u5236(${o==null?void 0:o.maxPages}\u9875)\uFF0C\u8DF3\u8FC7\u81EA\u52A8\u4FDD\u5B58:`,r);return}await ji(r)?y.info("URL\u5DF2\u7ECF\u4FDD\u5B58\u8FC7\uFF0C\u5C06\u66F4\u65B0\u73B0\u6709\u8BB0\u5F55:",r):y.info("URL\u672A\u4FDD\u5B58\u8FC7\uFF0C\u5C06\u521B\u5EFA\u65B0\u8BB0\u5F55:",r),await ca({tags:["auto-save"],notes:"\u81EA\u52A8\u4FDD\u5B58\u7684\u9875\u9762",title:a,tabId:e}),y.info("\u81EA\u52A8\u4FDD\u5B58\u9875\u9762\u6210\u529F:",r)}catch(t){y.error("\u81EA\u52A8\u4FDD\u5B58\u9875\u9762\u5931\u8D25:",t)}},ki=async(e,t)=>{try{const r=await Ke.tabs.get(e),a=r.url,o=r.title||"";if(!a||a.startsWith("chrome://")||a.startsWith("edge://")||a.startsWith("about:"))return;const l=await pe.get(Be);if(!l||!l.enabled){y.debug(`\u6807\u7B7E\u9875 ${e} \u4E0D\u8BBE\u7F6E\u81EA\u52A8\u4FDD\u5B58\u4EFB\u52A1: \u529F\u80FD\u672A\u542F\u7528`,{enabled:l==null?void 0:l.enabled}),t||await ft(e,a,o,"\u81EA\u52A8\u4FDD\u5B58\u529F\u80FD\u672A\u542F\u7528");return}if(l.paused){y.debug(`\u6807\u7B7E\u9875 ${e} \u4E0D\u8BBE\u7F6E\u81EA\u52A8\u4FDD\u5B58\u4EFB\u52A1: \u529F\u80FD\u5DF2\u6682\u505C`,{paused:l.paused}),bt(e),t||await ft(e,a,o,"\u81EA\u52A8\u4FDD\u5B58\u529F\u80FD\u5DF2\u6682\u505C");return}let s=!1,c="";if(t)s=!0,c=t.matchedRule||"",y.debug(`\u4ECE\u6301\u4E45\u5316\u5B58\u50A8\u6062\u590D\u6807\u7B7E\u9875 ${e} \u7684\u81EA\u52A8\u4FDD\u5B58\u4EFB\u52A1`,{url:a,matchedRule:c});else{const g=await It(a,l);s=g.shouldSave,c=g.matchedRule}if(!s){y.debug(`\u6807\u7B7E\u9875 ${e} \u4E0D\u8BBE\u7F6E\u81EA\u52A8\u4FDD\u5B58\u4EFB\u52A1: URL\u4E0D\u7B26\u5408\u89C4\u5219`,{url:a}),t||await ft(e,a,o,"\u4E0D\u7B26\u5408\u81EA\u52A8\u4FDD\u5B58\u89C4\u5219");return}bt(e);const d=Date.now(),p=t?t.scheduledAt:d+l.saveDelay*60*1e3,v=Math.max(0,p-d),x=setTimeout(()=>{pe.get(Be).then(g=>{if(!g||!g.enabled||g.paused){y.debug(`\u6807\u7B7E\u9875 ${e} \u7684\u81EA\u52A8\u4FDD\u5B58\u4EFB\u52A1\u88AB\u53D6\u6D88: \u529F\u80FD\u5DF2\u7981\u7528\u6216\u6682\u505C`),bt(e);return}const j=ye.get(e);j&&(j.status="saving",ye.set(e,j),Qe()),Si(e).then(()=>{const S=ye.get(e);S&&(S.status="completed",ye.set(e,S),Qe(),setTimeout(()=>{ye.delete(e),Qe()},5e3))}).catch(S=>{const w=ye.get(e);w&&(w.status="failed",w.error=S instanceof Error?S.message:String(S),ye.set(e,w),Qe())})})},v);ye.set(e,{tabId:e,url:a,title:o,timeoutId:x,createdAt:t?t.createdAt:d,scheduledAt:p,status:"waiting",matchedRule:c}),await Qe(),y.debug(`\u5DF2\u4E3A\u6807\u7B7E\u9875 ${e} \u8BBE\u7F6E\u81EA\u52A8\u4FDD\u5B58\u4EFB\u52A1`,{url:a,title:o,delay:v/1e3,scheduledAt:new Date(p).toLocaleString(),matchedRule:c})}catch(r){y.error("\u8BBE\u7F6E\u81EA\u52A8\u4FDD\u5B58\u4EFB\u52A1\u5931\u8D25:",r)}},ft=async(e,t,r,a)=>{try{const o={tabId:e,url:t,title:r,createdAt:Date.now(),scheduledAt:0,status:"waiting",filtered:!0,filterReason:a},l=await pe.get(He)||{tasks:[],lastUpdated:Date.now(),version:"1.0"};l.tasks=l.tasks.filter(s=>s.tabId!==e),l.tasks.push(o),l.lastUpdated=Date.now(),await pe.set(He,l),y.debug(`\u5DF2\u8BB0\u5F55\u88AB\u8FC7\u6EE4\u7684URL: ${t}`,{reason:a})}catch(o){y.error("\u8BB0\u5F55\u88AB\u8FC7\u6EE4\u7684URL\u5931\u8D25:",o)}},bt=async e=>{const t=ye.get(e);if(t){clearTimeout(t.timeoutId),ye.delete(e),y.debug(`\u5DF2\u6E05\u9664\u6807\u7B7E\u9875 ${e} \u7684\u81EA\u52A8\u4FDD\u5B58\u4EFB\u52A1`);try{const r=await pe.get(He);r&&r.tasks&&(r.tasks=r.tasks.filter(a=>a.tabId!==e||a.filtered),r.lastUpdated=Date.now(),await pe.set(He,r),y.debug(`\u5DF2\u4ECE\u6301\u4E45\u5316\u5B58\u50A8\u4E2D\u5220\u9664\u6807\u7B7E\u9875 ${e} \u7684\u81EA\u52A8\u4FDD\u5B58\u4EFB\u52A1`))}catch(r){y.error(`\u4ECE\u6301\u4E45\u5316\u5B58\u50A8\u4E2D\u5220\u9664\u6807\u7B7E\u9875 ${e} \u7684\u81EA\u52A8\u4FDD\u5B58\u4EFB\u52A1\u5931\u8D25:`,r)}}},Qe=async()=>{try{const e=Array.from(ye.values()).map(o=>({tabId:o.tabId,url:o.url,title:o.title,createdAt:o.createdAt,scheduledAt:o.scheduledAt,status:o.status,error:o.error,matchedRule:o.matchedRule,filtered:!1,filterReason:void 0})),t=await pe.get(He);let r=[...e];if(t&&t.tasks){const o=t.tasks.filter(c=>c.filtered),l=new Set(e.map(c=>c.tabId)),s=o.filter(c=>!l.has(c.tabId));r=[...e,...s]}const a={tasks:r,lastUpdated:Date.now(),version:"1.0"};await pe.set(He,a),y.debug("\u5DF2\u4FDD\u5B58\u81EA\u52A8\u4FDD\u5B58\u4EFB\u52A1\u72B6\u6001\u5230\u5B58\u50A8",{taskCount:r.length})}catch(e){y.error("\u4FDD\u5B58\u4EFB\u52A1\u72B6\u6001\u5230\u5B58\u50A8\u5931\u8D25:",e)}},Ci=async()=>{const e=Array.from(ye.values());try{const t=await pe.get(He);if(!t||!t.tasks)return e;const r=t.tasks.filter(a=>a.filtered).map(a=>({...a,timeoutId:-1}));return[...e,...r]}catch(t){return y.error("\u83B7\u53D6\u6240\u6709\u4FDD\u5B58\u4EFB\u52A1\u5931\u8D25:",t),e}},Ei=async()=>{var e;try{y.info("\u5F00\u59CB\u4FDD\u5B58\u6240\u6709\u5DF2\u6253\u5F00\u7684\u6807\u7B7E\u9875");const t=await Ke.tabs.query({});let r=0,a=0;const o=((e=await pe.get(Be))==null?void 0:e.maxPages)||0,l=(await ct()).length;if(o>0&&l+t.length>o){const s=Math.max(0,o-l);if(s===0)return y.warn(`\u5DF2\u8FBE\u5230\u6700\u5927\u4FDD\u5B58\u9875\u9762\u6570\u91CF\u9650\u5236(${o}\u9875)\uFF0C\u65E0\u6CD5\u4FDD\u5B58\u66F4\u591A\u9875\u9762`),{success:!0,savedCount:0,skippedCount:t.length,error:`\u5DF2\u8FBE\u5230\u6700\u5927\u4FDD\u5B58\u9875\u9762\u6570\u91CF\u9650\u5236(${o}\u9875)\uFF0C\u65E0\u6CD5\u4FDD\u5B58\u66F4\u591A\u9875\u9762`};y.warn(`\u7531\u4E8E\u9875\u9762\u6570\u91CF\u9650\u5236(${o}\u9875)\uFF0C\u53EA\u80FD\u4FDD\u5B58 ${s} \u4E2A\u6807\u7B7E\u9875`)}for(const s of t){if(!s.url||s.url.startsWith("chrome://")||s.url.startsWith("edge://")||s.url.startsWith("about:")){y.debug("\u8DF3\u8FC7\u4FDD\u5B58\u6D4F\u89C8\u5668\u5185\u90E8\u9875\u9762:",s.url),a++;continue}if(o>0&&l+r>=o){y.warn(`\u5DF2\u8FBE\u5230\u6700\u5927\u4FDD\u5B58\u9875\u9762\u6570\u91CF\u9650\u5236(${o}\u9875)\uFF0C\u505C\u6B62\u4FDD\u5B58\u66F4\u591A\u9875\u9762`),a+=t.length-r-a;break}try{await Ke.tabs.update(s.id,{active:!0}),await new Promise(c=>setTimeout(c,500)),await ca({tags:["manual-save","batch-save"],notes:"\u6279\u91CF\u4FDD\u5B58\u7684\u9875\u9762",tabId:s.id}),r++,y.info(`\u6210\u529F\u4FDD\u5B58\u6807\u7B7E\u9875 ${r}/${t.length}: ${s.url}`)}catch(c){y.error(`\u4FDD\u5B58\u6807\u7B7E\u9875\u5931\u8D25: ${s.url}`,c),a++}}return y.info(`\u4FDD\u5B58\u6240\u6709\u6807\u7B7E\u9875\u5B8C\u6210\uFF0C\u6210\u529F: ${r}\uFF0C\u8DF3\u8FC7: ${a}`),{success:!0,savedCount:r,skippedCount:a}}catch(t){return y.error("\u4FDD\u5B58\u6240\u6709\u6807\u7B7E\u9875\u8FC7\u7A0B\u4E2D\u53D1\u751F\u9519\u8BEF",t),{success:!1,savedCount:0,skippedCount:0,error:t instanceof Error?t.message:"\u672A\u77E5\u9519\u8BEF"}}},Ni=async()=>{try{const e=await Ke.tabs.query({});let t=0,r=0,a=0;const o=await pe.get(Be);if(!o||!o.enabled||o.paused)return{checked:0,setup:0,filtered:0};for(const l of e)!l.id||!l.url||(t++,(await It(l.url,o)).shouldSave?(await ki(l.id),r++):(await ft(l.id,l.url,l.title||"","\u624B\u52A8\u68C0\u67E5\uFF1A\u4E0D\u5339\u914D\u4EFB\u4F55\u89C4\u5219"),a++));return{checked:t,setup:r,filtered:a}}catch(e){return y.error("\u624B\u52A8\u68C0\u67E5\u6240\u6709\u6807\u7B7E\u9875\u65F6\u51FA\u9519:",e),{checked:0,setup:0,filtered:0}}},{Title:Ri,Text:de}=Ge,Ba=()=>"rule_xxxx-xxxx-xxx-xxxx".replace(/[x]/g,()=>Math.floor(Math.random()*16).toString(16)),Pi={enabled:!1,websites:[{id:Ba(),pattern:"*",enabled:!0}],saveDelay:1,maxPages:100,paused:!1},Mt="auto_save_settings",zi=()=>{la();const[e,t]=i.useState(Pi),[r,a]=i.useState(""),[o,l]=i.useState(null),[s,c]=i.useState(""),[d,p]=i.useState(!1),[v,x]=i.useState(""),[g,j]=i.useState(null),S=new Qt({area:"local"});i.useEffect(()=>{(async()=>{var u;try{const b=await S.get(Mt);b&&(b.paused===void 0&&(b.paused=!1,await S.set(Mt,b),console.log("\u5DF2\u4E3A\u8BBE\u7F6E\u6DFB\u52A0paused\u5C5E\u6027\uFF0C\u9ED8\u8BA4\u503C\u4E3Afalse")),console.log("\u52A0\u8F7D\u81EA\u52A8\u4FDD\u5B58\u8BBE\u7F6E",{enabled:b.enabled,paused:b.paused,rulesCount:(u=b.websites)==null?void 0:u.length}),t(b))}catch(b){console.error("\u52A0\u8F7D\u81EA\u52A8\u4FDD\u5B58\u8BBE\u7F6E\u5931\u8D25:",b)}})()},[]);const w=async u=>{try{await S.set(Mt,u),t(u)}catch(b){console.error("\u4FDD\u5B58\u81EA\u52A8\u4FDD\u5B58\u8BBE\u7F6E\u5931\u8D25:",b)}},C=u=>{const b={...e,enabled:u};w(b)},E=u=>{const b={...e,paused:u};console.log(`\u5207\u6362\u81EA\u52A8\u4FDD\u5B58\u6682\u505C\u72B6\u6001: ${u?"\u6682\u505C":"\u6062\u590D"}`),w(b)},N=u=>{if(u!==null){const b={...e,saveDelay:u};w(b)}},M=u=>{if(u!==null){const b={...e,maxPages:u};w(b)}},W=()=>{if(!r.trim())return;const u={id:Ba(),pattern:r.trim(),enabled:!0},b={...e,websites:[...e.websites,u]};w(b),a("")},_=u=>{const b={...e,websites:e.websites.filter(B=>B.id!==u)};w(b)},m=(u,b)=>{const B={...e,websites:e.websites.map(D=>D.id===u?{...D,enabled:b}:D)};w(B)},f=u=>{l(u.id),c(u.pattern)},k=()=>{if(!o||!s.trim()){l(null);return}const u={...e,websites:e.websites.map(b=>b.id===o?{...b,pattern:s.trim()}:b)};w(u),l(null)},R=async()=>{try{oe.loading({content:"\u6B63\u5728\u4FDD\u5B58\u6240\u6709\u5DF2\u6253\u5F00\u7684\u6807\u7B7E\u9875...",key:"saveAllTabs"});const u=await Ei();u.success?oe.success({content:`\u6210\u529F\u4FDD\u5B58\u4E86 ${u.savedCount} \u4E2A\u6807\u7B7E\u9875\uFF0C\u8DF3\u8FC7\u4E86 ${u.skippedCount} \u4E2A\u6807\u7B7E\u9875`,key:"saveAllTabs"}):oe.error({content:`\u4FDD\u5B58\u6807\u7B7E\u9875\u65F6\u51FA\u9519: ${u.error}`,key:"saveAllTabs"})}catch(u){oe.error({content:`\u4FDD\u5B58\u6807\u7B7E\u9875\u65F6\u51FA\u9519: ${u instanceof Error?u.message:"\u672A\u77E5\u9519\u8BEF"}`,key:"saveAllTabs"})}},L=()=>{x(""),j(null),p(!0)},P=()=>{p(!1)},I=async()=>{if(!v.trim()){oe.error("\u8BF7\u8F93\u5165\u8981\u6D4B\u8BD5\u7684URL");return}try{let u=v.trim();!u.startsWith("http://")&&!u.startsWith("https://")&&(u="https://"+u);try{new URL(u)}catch{oe.error("\u65E0\u6548\u7684URL\u683C\u5F0F");return}const b=e.websites.filter(A=>A.enabled),B=[];for(const A of b)A.pattern.startsWith("!")&&Ze(u,A.pattern.substring(1))&&B.push(A.pattern);const D=[];for(const A of b)A.pattern.startsWith("!")||Ze(u,A.pattern)&&D.push(A.pattern);const O=await _a(u,e);j({url:u,willSave:O,matchedRules:D,excludedByRules:B})}catch(u){oe.error(`\u6D4B\u8BD5URL\u5931\u8D25: ${u instanceof Error?u.message:"\u672A\u77E5\u9519\u8BEF"}`)}};return n.jsxs(Oa,{title:n.jsx(Ri,{level:4,children:"\u81EA\u52A8\u4FDD\u5B58\u8BBE\u7F6E"}),className:"mb-4",children:[n.jsxs(Te,{layout:"vertical",children:[n.jsx(Te.Item,{label:"\u542F\u7528\u81EA\u52A8\u4FDD\u5B58",tooltip:"\u542F\u7528\u540E\uFF0C\u7CFB\u7EDF\u5C06\u6839\u636E\u4E0B\u65B9\u89C4\u5219\u81EA\u52A8\u4FDD\u5B58\u60A8\u6D4F\u89C8\u7684\u7F51\u9875",children:n.jsxs(ve,{children:[n.jsx(ea,{checked:e.enabled,onChange:C,checkedChildren:"\u5F00\u542F",unCheckedChildren:"\u5173\u95ED"}),e.enabled&&n.jsx(ce,{title:e.paused?"\u6062\u590D\u81EA\u52A8\u4FDD\u5B58":"\u6682\u505C\u81EA\u52A8\u4FDD\u5B58",children:n.jsx(Z,{type:e.paused?"primary":"default",danger:!e.paused,onClick:()=>E(!e.paused),children:e.paused?"\u6062\u590D\u81EA\u52A8\u4FDD\u5B58":"\u6682\u505C\u81EA\u52A8\u4FDD\u5B58"})})]})}),e.enabled&&n.jsx(Te.Item,{children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:`w-3 h-3 rounded-full mr-2 ${e.paused?"bg-yellow-500":"bg-green-500"}`}),n.jsx(de,{type:e.paused?"warning":"success",children:e.paused?"\u81EA\u52A8\u4FDD\u5B58\u5F53\u524D\u5DF2\u6682\u505C\uFF0C\u8BBE\u7F6E\u4ECD\u7136\u4FDD\u7559":"\u81EA\u52A8\u4FDD\u5B58\u5F53\u524D\u5904\u4E8E\u6D3B\u52A8\u72B6\u6001"})]})}),n.jsx(Te.Item,{label:"\u4FDD\u5B58\u5EF6\u8FDF\u65F6\u95F4",tooltip:"\u7F51\u9875\u52A0\u8F7D\u5B8C\u6210\u540E\uFF0C\u7B49\u5F85\u591A\u5C11\u5206\u949F\u540E\u81EA\u52A8\u4FDD\u5B58",children:n.jsx(ta,{min:.5,max:60,step:.5,value:e.saveDelay,onChange:N,addonAfter:"\u5206\u949F",disabled:!e.enabled})}),n.jsxs(Te.Item,{label:"\u6700\u5927\u4FDD\u5B58\u9875\u9762\u6570\u91CF",tooltip:"\u81EA\u52A8\u4FDD\u5B58\u529F\u80FD\u6700\u591A\u4FDD\u5B58\u591A\u5C11\u4E2A\u9875\u9762\uFF0C\u8D85\u8FC7\u6B64\u6570\u91CF\u5C06\u505C\u6B62\u81EA\u52A8\u4FDD\u5B58\u6216\u5220\u9664\u6700\u65E7\u7684\u9875\u9762",children:[n.jsx(ta,{min:10,max:1e3,step:10,value:e.maxPages,onChange:M,addonAfter:"\u9875",disabled:!e.enabled}),n.jsx("div",{className:"mt-1",children:n.jsx(de,{type:"secondary",children:"\u8BBE\u7F6E\u4E0A\u9650\u53EF\u4EE5\u9632\u6B62\u65E0\u9650\u4FDD\u5B58\u5360\u7528\u8FC7\u591A\u5B58\u50A8\u7A7A\u95F4"})})]}),n.jsx(kt,{orientation:"left",children:"\u624B\u52A8\u4FDD\u5B58\u64CD\u4F5C"}),n.jsxs(Te.Item,{label:"\u4FDD\u5B58\u5F53\u524D\u5DF2\u6253\u5F00\u7684\u6240\u6709\u6807\u7B7E\u9875",tooltip:"\u7ACB\u5373\u4FDD\u5B58\u5F53\u524D\u6D4F\u89C8\u5668\u4E2D\u6240\u6709\u5DF2\u6253\u5F00\u7684\u6807\u7B7E\u9875",children:[n.jsx(Z,{type:"primary",icon:n.jsx(Eo,{}),onClick:R,children:"\u4FDD\u5B58\u6240\u6709\u5DF2\u6253\u5F00\u6807\u7B7E\u9875"}),n.jsx("div",{className:"mt-1",children:n.jsx(de,{type:"secondary",children:"\u6B64\u64CD\u4F5C\u5C06\u7ACB\u5373\u4FDD\u5B58\u5F53\u524D\u6D4F\u89C8\u5668\u4E2D\u6240\u6709\u5DF2\u6253\u5F00\u7684\u6807\u7B7E\u9875\uFF0C\u4E0D\u53D7\u81EA\u52A8\u4FDD\u5B58\u89C4\u5219\u9650\u5236"})})]}),n.jsx(kt,{orientation:"left",children:"\u7F51\u7AD9\u89C4\u5219"}),n.jsxs("div",{className:"mb-4 flex justify-between items-center",children:[n.jsx(de,{children:"\u914D\u7F6E\u81EA\u52A8\u4FDD\u5B58\u7684\u7F51\u7AD9\u89C4\u5219\uFF0C\u652F\u6301\u901A\u914D\u7B26\u548C\u6392\u9664\u89C4\u5219"}),n.jsx(Z,{type:"primary",icon:n.jsx(Uo,{}),onClick:L,disabled:!e.enabled,children:"\u6D4B\u8BD5URL\u5339\u914D"})]}),n.jsx(Te.Item,{label:"\u6DFB\u52A0\u7F51\u7AD9\u89C4\u5219",tooltip:"\u652F\u6301\u901A\u914D\u7B26\uFF0C\u4F8B\u5982: *.example.com \u6216 example.com/*\uFF0C\u4F7F\u7528!\u5F00\u5934\u8868\u793A\u6392\u9664\u89C4\u5219",children:n.jsxs(ve.Compact,{style:{width:"100%"},children:[n.jsx(Pe,{placeholder:"\u8F93\u5165\u7F51\u7AD9\u89C4\u5219\uFF0C\u4F8B\u5982: *.example.com",value:r,onChange:u=>a(u.target.value),disabled:!e.enabled,prefix:n.jsx(si,{})}),n.jsx(Z,{type:"primary",onClick:W,disabled:!e.enabled||!r.trim(),icon:n.jsx(ba,{}),children:"\u6DFB\u52A0"})]})}),n.jsx(ee,{size:"small",bordered:!0,dataSource:e.websites,renderItem:u=>n.jsx(ee.Item,{actions:[n.jsx(ea,{size:"small",checked:u.enabled,onChange:b=>m(u.id,b),disabled:!e.enabled},"toggle"),n.jsx(ce,{title:"\u7F16\u8F91",children:n.jsx(Z,{type:"text",size:"small",icon:n.jsx(da,{}),onClick:()=>f(u),disabled:!e.enabled})},"edit"),n.jsx(ce,{title:"\u5220\u9664",children:n.jsx(Z,{type:"text",danger:!0,size:"small",icon:n.jsx(dt,{}),onClick:()=>_(u.id),disabled:!e.enabled})},"delete")],children:o===u.id?n.jsxs(ve.Compact,{style:{width:"100%"},children:[n.jsx(Pe,{value:s,onChange:b=>c(b.target.value),onPressEnter:k}),n.jsx(Z,{type:"primary",onClick:k,children:"\u4FDD\u5B58"})]}):n.jsxs(ve,{children:[n.jsx(be,{color:u.enabled?"blue":"default",children:u.pattern}),u.enabled?n.jsx(de,{type:"success",children:"\u5DF2\u542F\u7528"}):n.jsx(de,{type:"secondary",children:"\u5DF2\u7981\u7528"})]})})}),n.jsx("div",{className:"mt-4",children:n.jsxs(de,{type:"secondary",children:[n.jsx(ua,{}),' \u63D0\u793A\uFF1A\u81EA\u52A8\u4FDD\u5B58\u7684\u9875\u9762\u4F1A\u81EA\u52A8\u6DFB\u52A0 "auto-save" \u6807\u7B7E\uFF0C\u540C\u4E00URL\u53EA\u4F1A\u4FDD\u7559\u6700\u65B0\u7248\u672C\u3002']})})]}),n.jsxs(qe,{title:"\u6D4B\u8BD5URL\u5339\u914D\u89C4\u5219",open:d,onCancel:P,footer:[n.jsx(Z,{onClick:P,children:"\u5173\u95ED"},"close"),n.jsx(Z,{type:"primary",onClick:I,children:"\u6D4B\u8BD5"},"test")],children:[n.jsx("div",{className:"mb-4",children:n.jsx(de,{children:"\u8F93\u5165URL\u6D4B\u8BD5\u662F\u5426\u5339\u914D\u5F53\u524D\u89C4\u5219"})}),n.jsx(Pe,{placeholder:"\u8F93\u5165\u8981\u6D4B\u8BD5\u7684URL\uFF0C\u4F8B\u5982: https://www.example.com",value:v,onChange:u=>x(u.target.value),onPressEnter:I,className:"mb-4"}),g&&n.jsxs("div",{className:"mt-4",children:[n.jsx(kt,{children:"\u6D4B\u8BD5\u7ED3\u679C"}),n.jsxs("div",{className:"mb-2",children:[n.jsx(de,{strong:!0,children:"\u6D4B\u8BD5URL: "}),n.jsx(de,{children:g.url})]}),n.jsx("div",{className:"mb-4",children:n.jsx(qn,{type:g.willSave?"success":"error",message:n.jsx("div",{className:"flex items-center",children:g.willSave?n.jsxs(n.Fragment,{children:[n.jsx(ma,{className:"mr-2 text-green-500"}),n.jsx(de,{strong:!0,children:"\u6B64URL\u5C06\u4F1A\u88AB\u81EA\u52A8\u4FDD\u5B58"})]}):n.jsxs(n.Fragment,{children:[n.jsx(Ta,{className:"mr-2 text-red-500"}),n.jsx(de,{strong:!0,children:"\u6B64URL\u4E0D\u4F1A\u88AB\u81EA\u52A8\u4FDD\u5B58"})]})}),showIcon:!1})}),g.matchedRules.length>0&&n.jsxs("div",{className:"mb-2",children:[n.jsx(de,{strong:!0,children:"\u5339\u914D\u7684\u89C4\u5219:"}),n.jsx("div",{className:"mt-1",children:g.matchedRules.map(u=>n.jsx(be,{color:"green",className:"mb-1",children:u},u))})]}),g.excludedByRules.length>0&&n.jsxs("div",{className:"mb-2",children:[n.jsx(de,{strong:!0,children:"\u88AB\u6392\u9664\u7684\u89C4\u5219:"}),n.jsx("div",{className:"mt-1",children:g.excludedByRules.map(u=>n.jsx(be,{color:"red",className:"mb-1",children:u},u))})]}),g.matchedRules.length===0&&g.excludedByRules.length===0&&n.jsx("div",{className:"mb-2",children:n.jsx(de,{type:"secondary",children:"\u6B64URL\u4E0D\u5339\u914D\u4EFB\u4F55\u89C4\u5219"})})]})]})]})},{Title:et,Text:re}=Ge,{TabPane:Lt}=Je,Ii=()=>{const[e,t]=i.useState([]),[r,a]=i.useState(0),[o,l]=i.useState("active"),[s,c]=i.useState(!1),[d,p]=i.useState(null);i.useEffect(()=>{const m=async()=>{try{const k=await Ci();console.log("\u4E0B\u8F7D\u961F\u5217\u4EFB\u52A1\u6570\u91CF:",k.length),t(k)}catch(k){console.error("\u52A0\u8F7D\u4E0B\u8F7D\u961F\u5217\u4EFB\u52A1\u5931\u8D25:",k)}};m();const f=setInterval(()=>{m()},1e3);return()=>{clearInterval(f)}},[r]);const v=async m=>{await bt(m),a(f=>f+1)},x=async()=>{c(!0);try{const m=await Ni();p(m),a(f=>f+1)}catch(m){console.error("\u624B\u52A8\u68C0\u67E5\u6240\u6709\u6807\u7B7E\u9875\u5931\u8D25:",m)}finally{c(!1)}},g=m=>{if(m.timeoutId===-1)return n.jsx(be,{color:"warning",icon:n.jsx(ai,{}),children:"\u5DF2\u8FC7\u6EE4"});switch(m.status){case we.WAITING:return n.jsx(be,{color:"blue",icon:n.jsx(ua,{}),children:"\u7B49\u5F85\u4E2D"});case we.SAVING:return n.jsx(be,{color:"processing",icon:n.jsx(hn,{}),children:"\u4FDD\u5B58\u4E2D"});case we.COMPLETED:return n.jsx(be,{color:"success",icon:n.jsx(ma,{}),children:"\u5DF2\u5B8C\u6210"});case we.FAILED:return n.jsx(be,{color:"error",icon:n.jsx(Ta,{}),children:"\u5931\u8D25"});default:return n.jsx(be,{children:"\u672A\u77E5\u72B6\u6001"})}},j=m=>{if(m.status!==we.WAITING||m.timeoutId===-1)return 100;const f=Date.now()-m.createdAt,k=m.scheduledAt-m.createdAt;return k<=0?100:Math.min(Math.floor(f/k*100),99)},S=m=>{if(m.status!==we.WAITING||m.timeoutId===-1)return"";const f=Date.now(),k=Math.max(0,m.scheduledAt-f);if(k<=0)return"\u5373\u5C06\u4FDD\u5B58";const R=Math.ceil(k/1e3);if(R<60)return`${R}\u79D2\u540E\u4FDD\u5B58`;{const L=Math.floor(R/60),P=R%60;return`${L}\u5206${P}\u79D2\u540E\u4FDD\u5B58`}},w=e.filter(m=>m.status===we.WAITING&&m.timeoutId!==-1),C=e.filter(m=>m.status===we.SAVING),E=e.filter(m=>m.status===we.COMPLETED),N=e.filter(m=>m.status===we.FAILED),M=e.filter(m=>m.timeoutId===-1),W=[...w,...C],_=[...E,...N];return n.jsxs(Oa,{title:n.jsx(et,{level:4,children:"\u4E0B\u8F7D\u961F\u5217"}),className:"mb-4",extra:n.jsx(Z,{type:"primary",icon:n.jsx(ha,{}),onClick:x,loading:s,children:"\u68C0\u67E5\u6240\u6709\u6807\u7B7E\u9875"}),children:[n.jsx("div",{className:"mb-4",children:n.jsxs(ve,{size:"large",children:[n.jsx(_e,{title:"\u7B49\u5F85\u4E2D",value:w.length}),n.jsx(_e,{title:"\u4FDD\u5B58\u4E2D",value:C.length}),n.jsx(_e,{title:"\u5DF2\u5B8C\u6210",value:E.length}),n.jsx(_e,{title:"\u5931\u8D25",value:N.length}),n.jsx(_e,{title:"\u88AB\u8FC7\u6EE4",value:M.length})]})}),d&&n.jsx("div",{className:"mb-4",children:n.jsx(aa,{children:n.jsx(aa.Panel,{header:`\u6700\u8FD1\u68C0\u67E5\u7ED3\u679C: \u68C0\u67E5\u4E86 ${d.checked} \u4E2A\u6807\u7B7E\u9875\uFF0C\u8BBE\u7F6E\u4E86 ${d.setup} \u4E2A\u4EFB\u52A1\uFF0C\u8FC7\u6EE4\u4E86 ${d.filtered} \u4E2AURL`,children:n.jsxs(ve,{direction:"vertical",children:[n.jsxs(re,{children:["\u68C0\u67E5\u4E86 ",d.checked," \u4E2A\u6807\u7B7E\u9875"]}),n.jsxs(re,{children:["\u8BBE\u7F6E\u4E86 ",d.setup," \u4E2A\u81EA\u52A8\u4FDD\u5B58\u4EFB\u52A1"]}),n.jsxs(re,{children:["\u8FC7\u6EE4\u4E86 ",d.filtered," \u4E2A\u4E0D\u7B26\u5408\u89C4\u5219\u7684URL"]})]})},"checkStats")})}),n.jsxs(Je,{activeKey:o,onChange:l,children:[n.jsx(Lt,{tab:"\u6D3B\u8DC3\u4EFB\u52A1",children:W.length===0?n.jsx(Rt,{description:"\u5F53\u524D\u6CA1\u6709\u6D3B\u8DC3\u7684\u4E0B\u8F7D\u4EFB\u52A1"}):n.jsxs(n.Fragment,{children:[w.length>0&&n.jsxs("div",{className:"mb-4",children:[n.jsxs(et,{level:5,children:["\u7B49\u5F85\u4E2D\u7684\u4EFB\u52A1 (",w.length,")"]}),n.jsx(ee,{size:"small",bordered:!0,dataSource:w,renderItem:m=>n.jsx(ee.Item,{actions:[n.jsx(ce,{title:"\u53D6\u6D88",children:n.jsx(Z,{type:"text",danger:!0,size:"small",icon:n.jsx(dt,{}),onClick:()=>v(m.tabId)})},"cancel")],children:n.jsx(ee.Item.Meta,{title:n.jsxs(ve,{children:[n.jsx(re,{ellipsis:!0,style:{maxWidth:300},children:m.title||m.url}),g(m),m.matchedRule&&n.jsx(ce,{title:`\u5339\u914D\u89C4\u5219: ${m.matchedRule}`,children:n.jsx(gt,{})})]}),description:n.jsxs("div",{children:[n.jsx(re,{type:"secondary",ellipsis:!0,style:{maxWidth:400},children:m.url}),n.jsx("div",{className:"mt-1",children:n.jsx(On,{percent:j(m),size:"small",status:"active",format:()=>S(m)})})]})})})})]}),C.length>0&&n.jsxs("div",{className:"mb-4",children:[n.jsxs(et,{level:5,children:["\u4FDD\u5B58\u4E2D\u7684\u4EFB\u52A1 (",C.length,")"]}),n.jsx(ee,{size:"small",bordered:!0,dataSource:C,renderItem:m=>n.jsx(ee.Item,{children:n.jsx(ee.Item.Meta,{title:n.jsxs(ve,{children:[n.jsx(re,{ellipsis:!0,style:{maxWidth:300},children:m.title||m.url}),g(m),m.matchedRule&&n.jsx(ce,{title:`\u5339\u914D\u89C4\u5219: ${m.matchedRule}`,children:n.jsx(gt,{})})]}),description:n.jsx(re,{type:"secondary",ellipsis:!0,style:{maxWidth:400},children:m.url})})})})]})]})},"active"),n.jsx(Lt,{tab:"\u5386\u53F2\u8BB0\u5F55",children:_.length===0?n.jsx(Rt,{description:"\u6CA1\u6709\u5386\u53F2\u4E0B\u8F7D\u8BB0\u5F55"}):n.jsxs(n.Fragment,{children:[E.length>0&&n.jsxs("div",{className:"mb-4",children:[n.jsxs(et,{level:5,children:["\u6700\u8FD1\u5B8C\u6210\u7684\u4EFB\u52A1 (",E.length,")"]}),n.jsx(ee,{size:"small",bordered:!0,dataSource:E,renderItem:m=>n.jsx(ee.Item,{children:n.jsx(ee.Item.Meta,{title:n.jsxs(ve,{children:[n.jsx(re,{ellipsis:!0,style:{maxWidth:300},children:m.title||m.url}),g(m),m.matchedRule&&n.jsx(ce,{title:`\u5339\u914D\u89C4\u5219: ${m.matchedRule}`,children:n.jsx(gt,{})})]}),description:n.jsxs("div",{children:[n.jsx(re,{type:"secondary",ellipsis:!0,style:{maxWidth:400},children:m.url}),n.jsx("div",{children:n.jsx(re,{type:"secondary",children:new Date(m.createdAt).toLocaleString()})})]})})})})]}),N.length>0&&n.jsxs("div",{children:[n.jsxs(et,{level:5,children:["\u5931\u8D25\u7684\u4EFB\u52A1 (",N.length,")"]}),n.jsx(ee,{size:"small",bordered:!0,dataSource:N,renderItem:m=>n.jsx(ee.Item,{actions:[n.jsx(ce,{title:"\u79FB\u9664",children:n.jsx(Z,{type:"text",danger:!0,size:"small",icon:n.jsx(dt,{}),onClick:()=>v(m.tabId)})},"remove")],children:n.jsx(ee.Item.Meta,{title:n.jsxs(ve,{children:[n.jsx(re,{ellipsis:!0,style:{maxWidth:300},children:m.title||m.url}),g(m),m.matchedRule&&n.jsx(ce,{title:`\u5339\u914D\u89C4\u5219: ${m.matchedRule}`,children:n.jsx(gt,{})})]}),description:n.jsxs("div",{children:[n.jsx(re,{type:"secondary",ellipsis:!0,style:{maxWidth:400},children:m.url}),m.error&&n.jsx("div",{className:"mt-1",children:n.jsx(re,{type:"danger",children:m.error})}),n.jsx("div",{children:n.jsx(re,{type:"secondary",children:new Date(m.createdAt).toLocaleString()})})]})})})})]})]})},"history"),n.jsx(Lt,{tab:"\u88AB\u8FC7\u6EE4\u7684URL",children:M.length===0?n.jsx(Rt,{description:"\u6CA1\u6709\u88AB\u8FC7\u6EE4\u7684URL"}):n.jsx("div",{children:n.jsx(ee,{size:"small",bordered:!0,dataSource:M,renderItem:m=>n.jsx(ee.Item,{children:n.jsx(ee.Item.Meta,{title:n.jsxs(ve,{children:[n.jsx(re,{ellipsis:!0,style:{maxWidth:300},children:m.title||m.url}),g(m)]}),description:n.jsxs("div",{children:[n.jsx(re,{type:"secondary",ellipsis:!0,style:{maxWidth:400},children:m.url}),m.error&&n.jsx("div",{className:"mt-1",children:n.jsxs(re,{type:"secondary",children:["\u8FC7\u6EE4\u539F\u56E0: ",m.error]})}),n.jsx("div",{children:n.jsx(re,{type:"secondary",children:new Date(m.createdAt).toLocaleString()})})]})})})})})},"filtered")]})]})},Ot=10,Mi=()=>{const{t:e}=la();jn();const{TabPane:t}=Je,[r,a]=i.useState("1"),[o,l]=i.useState([]),[s,c]=i.useState(!0),[d,p]=i.useState(1),[v,x]=i.useState(0),[g,j]=i.useState(""),[S,w]=i.useState([]),[C,E]=i.useState([]),[N,M]=i.useState(!1),[W,_]=i.useState(null),[m,f]=i.useState(""),[k,R]=i.useState([]),[L,P]=i.useState(""),[I,u]=i.useState(0),[b,B]=i.useState(""),[D,O]=i.useState(""),[A,te]=i.useState(!1),[V,U]=i.useState(!1),[z,X]=i.useState(null),K=async()=>{try{c(!0);const h=await ct({searchText:g||void 0,tags:S.length>0?S:void 0});x(h.length);const T=(d-1)*Ot,se=T+Ot;l(h.slice(T,se)),c(!1)}catch(h){console.error("\u52A0\u8F7D\u9875\u9762\u5931\u8D25:",h),oe.error("\u52A0\u8F7D\u9875\u9762\u5931\u8D25"),c(!1)}},q=async()=>{try{const h=await kn();E(h)}catch(h){console.error("\u52A0\u8F7D\u6807\u7B7E\u5931\u8D25:",h)}};i.useEffect(()=>{K(),q()},[]),i.useEffect(()=>{K()},[g,S,d]);const ae=h=>{j(h),p(1)},le=h=>{S.includes(h)?w(S.filter(T=>T!==h)):w([...S,h]),p(1)},ie=async h=>{qe.confirm({title:e("savedPages.deleteConfirm.title","\u786E\u8BA4\u5220\u9664"),content:e("savedPages.deleteConfirm.content","\u786E\u5B9A\u8981\u5220\u9664\u8FD9\u4E2A\u4FDD\u5B58\u7684\u9875\u9762\u5417\uFF1F\u6B64\u64CD\u4F5C\u4E0D\u53EF\u6062\u590D\u3002"),okText:e("savedPages.deleteConfirm.okText","\u5220\u9664"),okType:"danger",cancelText:e("savedPages.deleteConfirm.cancelText","\u53D6\u6D88"),onOk:async()=>{try{await Cn(h),oe.success(e("savedPages.messages.deleted","\u9875\u9762\u5DF2\u5220\u9664")),K()}catch(T){console.error(e("savedPages.errors.deleteFailed","\u5220\u9664\u9875\u9762\u5931\u8D25:"),T),oe.error(e("savedPages.messages.deleteFailed","\u5220\u9664\u9875\u9762\u5931\u8D25"))}}})},ue=h=>{_(h),f(h.title),R(h.tags),P(h.notes),u(h.rating||0),B(h.summary||""),M(!0)},Ee=async()=>{if(W)try{await En(W.id,{title:m,tags:k,notes:L,rating:I,summary:b}),oe.success(e("savedPages.messages.updated","\u9875\u9762\u5DF2\u66F4\u65B0")),M(!1),K(),q()}catch(h){console.error(e("savedPages.errors.updateFailed","\u66F4\u65B0\u9875\u9762\u5931\u8D25:"),h),oe.error(e("savedPages.messages.updateFailed","\u66F4\u65B0\u9875\u9762\u5931\u8D25"))}},Se=()=>{D.trim()&&(k.includes(D)||R([...k,D]),O(""))},ze=h=>{R(k.filter(T=>T!==h))},Ne=async()=>{try{const h=await Nn(),T=new Blob([JSON.stringify(h,null,2)],{type:"application/json"}),se=URL.createObjectURL(T),me=document.createElement("a");me.href=se,me.download=`page-assist-saved-pages-${new Date().toISOString().slice(0,10)}.json`,document.body.appendChild(me),me.click(),document.body.removeChild(me),URL.revokeObjectURL(se),oe.success(e("savedPages.messages.exportSuccess","\u5BFC\u51FA\u6210\u529F"))}catch(h){console.error(e("savedPages.errors.exportFailed","\u5BFC\u51FA\u5931\u8D25:"),h),oe.error(e("savedPages.messages.exportFailed","\u5BFC\u51FA\u5931\u8D25"))}},Ie=()=>{const h=document.createElement("input");h.type="file",h.accept=".json",h.onchange=async T=>{var me;const se=(me=T.target.files)==null?void 0:me[0];if(se)try{const Re=new FileReader;Re.onload=async Ve=>{var Ue;try{const De=JSON.parse((Ue=Ve.target)==null?void 0:Ue.result),je=await Rn(De);oe.success(e("savedPages.messages.importSuccess","\u6210\u529F\u5BFC\u5165 {{count}} \u4E2A\u9875\u9762",{count:je})),K(),q()}catch(De){console.error(e("savedPages.errors.parseImportFailed","\u89E3\u6790\u5BFC\u5165\u6587\u4EF6\u5931\u8D25:"),De),oe.error(e("savedPages.messages.importFailedInvalidFormat","\u5BFC\u5165\u5931\u8D25: \u65E0\u6548\u7684\u6587\u4EF6\u683C\u5F0F"))}},Re.readAsText(se)}catch(Re){console.error(e("savedPages.errors.importFailed","\u5BFC\u5165\u5931\u8D25:"),Re),oe.error(e("savedPages.messages.importFailed","\u5BFC\u5165\u5931\u8D25"))}},h.click()},F=h=>{window.open(h.url,"_blank")},$e=h=>{X(h),te(!0)},ke=h=>{X(h),U(!0)};return n.jsxs("div",{className:"p-4",children:[n.jsxs(Je,{activeKey:r,onChange:a,children:[n.jsxs(t,{tab:n.jsxs("span",{children:[n.jsx(na,{})," ",e("savedPages.tabs.savedPages","\u5DF2\u4FDD\u5B58\u7684\u9875\u9762")]}),children:[n.jsxs("div",{className:"mb-4 flex justify-between items-center",children:[n.jsx("h1",{className:"text-xl font-bold",children:e("savedPages.title","\u5DF2\u4FDD\u5B58\u7684\u9875\u9762")}),n.jsxs(ve,{children:[n.jsx(Z,{icon:n.jsx(Jo,{}),onClick:Ne,children:e("savedPages.buttons.export","\u5BFC\u51FA")}),n.jsx(Z,{icon:n.jsx(mi,{}),onClick:Ie,children:e("savedPages.buttons.import","\u5BFC\u5165")})]})]}),n.jsxs("div",{className:"mb-4",children:[n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx(Pe.Search,{placeholder:e("savedPages.search.placeholder","\u641C\u7D22\u6807\u9898\u6216\u5185\u5BB9"),allowClear:!0,enterButton:n.jsx(pn,{}),onSearch:ae,className:"flex-1"}),n.jsx(ce,{title:e("savedPages.buttons.refresh","\u5237\u65B0"),children:n.jsx(Z,{icon:n.jsx(ha,{}),className:"ml-2",onClick:()=>K(),children:e("savedPages.buttons.refresh","\u5237\u65B0")})})]}),n.jsxs("div",{className:"mt-2",children:[n.jsx("span",{className:"mr-2",children:e("savedPages.tagFilter.label","\u6807\u7B7E\u7B5B\u9009:")}),C.map(h=>n.jsx(be,{color:S.includes(h)?"blue":void 0,className:"cursor-pointer mb-1",onClick:()=>le(h),children:h},h))]})]}),n.jsx(ee,{loading:s,dataSource:o,renderItem:h=>n.jsx(ee.Item,{actions:[n.jsx(ce,{title:e("savedPages.actions.viewOriginal","\u67E5\u770B\u539F\u9875\u9762"),children:n.jsx(Z,{icon:n.jsx(na,{}),onClick:()=>F(h)})}),n.jsx(ce,{title:e("savedPages.actions.viewHtml","\u67E5\u770B\u539F\u59CBHTML"),children:n.jsx(Z,{icon:n.jsx(Ao,{}),onClick:()=>$e(h)})}),n.jsx(ce,{title:e("savedPages.actions.viewSummary","\u67E5\u770B\u6458\u8981\u8BE6\u60C5"),children:n.jsx(Z,{icon:n.jsx(io,{}),onClick:()=>ke(h)})}),n.jsx(ce,{title:e("savedPages.actions.edit","\u7F16\u8F91"),children:n.jsx(Z,{icon:n.jsx(da,{}),onClick:()=>ue(h)})}),n.jsx(ce,{title:e("savedPages.actions.delete","\u5220\u9664"),children:n.jsx(Z,{danger:!0,icon:n.jsx(dt,{}),onClick:()=>ie(h.id)})})],children:n.jsx(ee.Item.Meta,{title:n.jsxs("div",{className:"flex items-center",children:[n.jsx("a",{href:h.url,target:"_blank",rel:"noopener noreferrer",children:h.title}),h.rating>0&&n.jsx(Pt,{disabled:!0,value:h.rating,className:"ml-2",style:{fontSize:"14px"}})]}),description:n.jsxs("div",{children:[n.jsx("div",{className:"text-gray-500 mb-1 truncate",children:h.url}),h.summary&&n.jsx("div",{className:"text-gray-700 mb-2 line-clamp-3",children:h.summary}),n.jsx("div",{className:"mb-1",children:h.tags.map(T=>n.jsx(be,{color:"blue",className:"mr-1",children:T},T))}),h.notes&&n.jsx("div",{className:"text-gray-700",children:h.notes}),n.jsx("div",{className:"text-gray-400 text-xs mt-1",children:e("savedPages.savedAt","\u4FDD\u5B58\u4E8E {{date}}",{date:new Date(h.createdAt).toLocaleString()})})]}),avatar:h.favicon?n.jsx("img",{src:h.favicon,alt:"favicon",className:"w-4 h-4"}):null})},h.id),pagination:!1}),n.jsx("div",{className:"mt-4 flex justify-center",children:n.jsx(_n,{current:d,pageSize:Ot,total:v,onChange:p,size:"small"})})]},"1"),n.jsx(t,{tab:n.jsxs("span",{children:[n.jsx($i,{})," ",e("savedPages.tabs.autoSaveSettings","\u81EA\u52A8\u4FDD\u5B58\u8BBE\u7F6E")]}),children:n.jsx(zi,{})},"2"),n.jsx(t,{tab:n.jsxs("span",{children:[n.jsx(Tn,{})," ",e("savedPages.tabs.downloadQueue","\u4E0B\u8F7D\u961F\u5217")]}),children:n.jsx(Ii,{})},"3"),n.jsx(t,{tab:n.jsxs("span",{children:[n.jsx(To,{})," ",e("savedPages.tabs.syncSettings","\u540C\u6B65\u8BBE\u7F6E")]}),children:n.jsx(wn,{})},"4")]}),n.jsxs(qe,{title:e("savedPages.editModal.title","\u7F16\u8F91\u9875\u9762\u4FE1\u606F"),open:N,onOk:Ee,onCancel:()=>M(!1),okText:e("savedPages.editModal.okText","\u4FDD\u5B58"),cancelText:e("savedPages.editModal.cancelText","\u53D6\u6D88"),children:[n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block mb-1",children:e("savedPages.editModal.titleLabel","\u6807\u9898")}),n.jsx(Pe,{value:m,onChange:h=>f(h.target.value)})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block mb-1",children:e("savedPages.editModal.ratingLabel","\u8BC4\u5206")}),n.jsx(Pt,{value:I,onChange:u})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block mb-1",children:e("savedPages.editModal.tagsLabel","\u6807\u7B7E")}),n.jsx("div",{className:"mb-2",children:k.map(h=>n.jsx(be,{closable:!0,onClose:()=>ze(h),className:"mb-1",children:h},h))}),n.jsxs(Pe.Group,{compact:!0,children:[n.jsx(Pe,{style:{width:"calc(100% - 60px)"},value:D,onChange:h=>O(h.target.value),onPressEnter:Se,placeholder:e("savedPages.editModal.addTagPlaceholder","\u6DFB\u52A0\u6807\u7B7E")}),n.jsx(Z,{icon:n.jsx(Sn,{}),onClick:Se})]})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block mb-1",children:e("savedPages.editModal.summaryLabel","\u6458\u8981")}),n.jsx(Pe.TextArea,{value:b,onChange:h=>B(h.target.value),rows:3,placeholder:e("savedPages.editModal.summaryPlaceholder","\u9875\u9762\u5185\u5BB9\u6458\u8981")})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block mb-1",children:e("savedPages.editModal.notesLabel","\u5907\u6CE8")}),n.jsx(Pe.TextArea,{value:L,onChange:h=>P(h.target.value),rows:3})]})]}),n.jsx(qe,{title:e("savedPages.htmlModal.title","\u539F\u59CBHTML\u5185\u5BB9"),open:A,onCancel:()=>te(!1),width:800,footer:null,children:z!=null&&z.html?n.jsx("div",{className:"max-h-[70vh] overflow-auto",children:n.jsx(Ge.Paragraph,{children:n.jsx("pre",{className:"whitespace-pre-wrap break-all bg-gray-100 dark:bg-gray-800 p-4 rounded",children:z.html})})}):n.jsx(Ge.Paragraph,{className:"text-gray-500",children:e("savedPages.htmlModal.noHtml","\u6CA1\u6709\u4FDD\u5B58\u539F\u59CBHTML\u5185\u5BB9\u6216\u5F53\u524D\u9875\u9762\u4E0D\u662FHTML\u7C7B\u578B\u3002")})}),n.jsx(qe,{title:e("savedPages.summaryModal.title","\u5185\u5BB9\u6458\u8981\u8BE6\u60C5"),open:V,onCancel:()=>U(!1),footer:null,children:z?n.jsxs("div",{children:[n.jsxs("div",{className:"mb-4",children:[n.jsx("h3",{className:"font-bold mb-2",children:e("savedPages.summaryModal.summaryTitle","\u5185\u5BB9\u6458\u8981")}),n.jsx(Ge.Paragraph,{className:"bg-gray-50 dark:bg-gray-800 p-3 rounded",children:z.summary||e("savedPages.summaryModal.noSummary","\u672A\u751F\u6210\u6458\u8981")})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("h3",{className:"font-bold mb-2",children:e("savedPages.summaryModal.ratingTitle","\u5185\u5BB9\u8BC4\u5206")}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(Pt,{disabled:!0,value:z.rating||0}),n.jsx("span",{className:"ml-2 text-gray-500",children:e("savedPages.summaryModal.ratingValue","{{rating}}/5",{rating:z.rating||0})})]})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("h3",{className:"font-bold mb-2",children:e("savedPages.summaryModal.tagsTitle","\u5173\u952E\u8BCD\u6807\u7B7E")}),n.jsx("div",{children:z.tags.map(h=>n.jsx(be,{color:"blue",className:"mr-1 mb-1",children:h},h))})]})]}):n.jsx(Ge.Paragraph,{className:"text-gray-500",children:e("savedPages.summaryModal.loadError","\u65E0\u6CD5\u52A0\u8F7D\u9875\u9762\u4FE1\u606F\u3002")})})]})},Li=()=>n.jsx(Pn,{children:n.jsx(Mi,{})});export{Li as default};
