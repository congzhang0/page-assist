import{a as j,j as e,e as E,B as G,f as n,u as J}from"./FontSizeProvider-D3enan1E.js";import{B as f,S as V}from"./SettingsOptionLayout-s4bKEO4h.js";import{O as Q}from"./Layout-_1TcQUPd.js";import{u as Y,S as _,n as r,I as $,k as X,W as k,b as w}from"./SaveButton-DmOKJM4n.js";import{O as Z,Q as ee,R as se,T as ae,U as le,V as te,W as oe,Y as ge,h as re,_ as ne}from"./Sidebar-BePlkV0h.js";import{u as ie}from"./use-form-CoJzCIEa.js";import{S as h,I as p}from"./browser-polyfill-0iagK1yo.js";import{u as ce,b as de,M as me,a as xe,T as he}from"./sst-settings-CgXlW4p1.js";import{e as pe,i as be}from"./knowledge-VAlMBNOu.js";import{s as N}from"./index-FcDqmjI2.js";import"./pdfjs-Dk_2IB0p.js";import"./chevron-right-CQkEQ8H0.js";import"./elevenlabs-DyuDyElx.js";const ue=["google.ad","google.ae","google.al","google.am","google.as","google.at","google.az","google.ba","google.be","google.bf","google.bg","google.bi","google.bj","google.bs","google.bt","google.by","google.ca","google.cd","google.cf","google.cg","google.ch","google.ci","google.cl","google.cm","google.co.ao","google.co.bw","google.co.ck","google.co.cr","google.co.id","google.co.il","google.co.in","google.co.jp","google.co.ke","google.co.kr","google.co.ls","google.co.ma","google.co.mz","google.co.nz","google.co.th","google.co.tz","google.co.ug","google.co.uk","google.co.uz","google.co.ve","google.co.vi","google.co.za","google.co.zm","google.co.zw","google.com","google.com.af","google.com.ag","google.com.ai","google.com.ar","google.com.au","google.com.bd","google.com.bh","google.com.bn","google.com.bo","google.com.br","google.com.bz","google.com.co","google.com.cu","google.com.cy","google.com.do","google.com.ec","google.com.eg","google.com.et","google.com.fj","google.com.gh","google.com.gi","google.com.gt","google.com.hk","google.com.jm","google.com.kh","google.com.kw","google.com.lb","google.com.ly","google.com.mm","google.com.mt","google.com.mx","google.com.my","google.com.na","google.com.ng","google.com.ni","google.com.np","google.com.om","google.com.pa","google.com.pe","google.com.pg","google.com.ph","google.com.pk","google.com.pr","google.com.py","google.com.qa","google.com.sa","google.com.sb","google.com.sg","google.com.sl","google.com.sv","google.com.tj","google.com.tr","google.com.tw","google.com.ua","google.com.uy","google.com.vc","google.com.vn","google.cv","google.cz","google.de","google.dj","google.dk","google.dm","google.dz","google.ee","google.es","google.fi","google.fm","google.fr","google.ga","google.ge","google.gl","google.gm","google.gp","google.gr","google.gy","google.hn","google.hr","google.ht","google.hu","google.ie","google.iq","google.is","google.it","google.je","google.jo","google.kg","google.ki","google.kz","google.la","google.li","google.lk","google.lt","google.lu","google.lv","google.md","google.mg","google.mk","google.ml","google.mn","google.ms","google.mu","google.mv","google.mw","google.ne","google.nl","google.no","google.nr","google.nu","google.pl","google.ps","google.pt","google.ro","google.rs","google.ru","google.rw","google.sc","google.se","google.sh","google.si","google.sk","google.sm","google.sn","google.so","google.sr","google.td","google.tg","google.tk","google.tl","google.tm","google.tn","google.to","google.tt","google.vg","google.vu","google.ws"],je=[{label:"Google",value:"google"},{label:"DuckDuckGo",value:"duckduckgo"},{label:"Sogou",value:"sogou"},{label:"Baidu",value:"baidu"},{label:"Brave",value:"brave"},{label:"Searxng",value:"searxng"},{label:"Brave Search API",value:"brave-api"},{label:"Tavily Search API",value:"tavily-api"},{label:"Bing",value:"bing"},{label:"Stract",value:"stract"},{label:"Startpage",value:"startpage"},{label:"Exa",value:"exa"}],fe=()=>{const{t:s}=j("settings"),l=ie({initialValues:{isSimpleInternetSearch:!1,searchProvider:"",totalSearchResults:0,visitSpecificWebsite:!1,searxngURL:"",searxngJSONMode:!1,braveApiKey:"",tavilyApiKey:"",googleDomain:"",defaultInternetSearchOn:!1,exaAPIKey:""}}),{status:t}=Y({queryKey:["fetchSearchSettings"],queryFn:async()=>{const o=await ee();return l.setValues(o),o}});return t==="pending"||t==="error"?e.jsx(_,{active:!0}):e.jsxs("div",{children:[e.jsxs("div",{className:"mb-5",children:[e.jsx("h2",{className:"text-base font-semibold leading-7 text-gray-900 dark:text-white",children:s("generalSettings.webSearch.heading")}),e.jsx("div",{className:"border border-b border-gray-200 dark:border-gray-600 mt-3"})]}),e.jsxs("form",{onSubmit:l.onSubmit(async o=>{await Z(o)}),className:"space-y-4",children:[e.jsxs("div",{className:"flex sm:flex-row flex-col space-y-4 sm:space-y-0 sm:justify-between",children:[e.jsx("span",{className:"text-gray-700 dark:text-neutral-50 ",children:s("generalSettings.webSearch.provider.label")}),e.jsx("div",{children:e.jsx(h,{placeholder:s("generalSettings.webSearch.provider.placeholder"),showSearch:!0,className:"w-full mt-4 sm:mt-0 sm:w-[200px]",options:je,filterOption:(o,i)=>i.label.toLowerCase().indexOf(o.toLowerCase())>=0||i.value.toLowerCase().indexOf(o.toLowerCase())>=0,...l.getInputProps("searchProvider")})})]}),l.values.searchProvider==="searxng"&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex sm:flex-row flex-col space-y-4 sm:space-y-0 sm:justify-between",children:[e.jsx("span",{className:"text-gray-700 dark:text-neutral-50",children:s("generalSettings.webSearch.searxng.url.label")}),e.jsx("div",{children:e.jsx(p,{placeholder:"https://searxng.example.com",className:"w-full mt-4 sm:mt-0 sm:w-[200px]",required:!0,...l.getInputProps("searxngURL")})})]})}),l.values.searchProvider==="google"&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex sm:flex-row flex-col space-y-4 sm:space-y-0 sm:justify-between",children:[e.jsx("span",{className:"text-gray-700 dark:text-neutral-50",children:s("generalSettings.webSearch.googleDomain.label")}),e.jsx("div",{children:e.jsx(h,{showSearch:!0,className:"w-full mt-4 sm:mt-0 sm:w-[200px]",options:ue.map(o=>({label:o,value:o})),filterOption:(o,i)=>i.label.toLowerCase().indexOf(o.toLowerCase())>=0||i.value.toLowerCase().indexOf(o.toLowerCase())>=0,...l.getInputProps("googleDomain")})})]})}),l.values.searchProvider==="brave-api"&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex sm:flex-row flex-col space-y-4 sm:space-y-0 sm:justify-between",children:[e.jsx("span",{className:"text-gray-700 dark:text-neutral-50",children:s("generalSettings.webSearch.braveApi.label")}),e.jsx("div",{children:e.jsx(p.Password,{placeholder:s("generalSettings.webSearch.braveApi.placeholder"),required:!0,className:"w-full mt-4 sm:mt-0 sm:w-[200px]",...l.getInputProps("braveApiKey")})})]})}),l.values.searchProvider==="tavily-api"&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex sm:flex-row flex-col space-y-4 sm:space-y-0 sm:justify-between",children:[e.jsx("span",{className:"text-gray-700 dark:text-neutral-50",children:s("generalSettings.webSearch.tavilyApi.label")}),e.jsx("div",{children:e.jsx(p.Password,{placeholder:s("generalSettings.webSearch.tavilyApi.placeholder"),required:!0,className:"w-full mt-4 sm:mt-0 sm:w-[200px]",...l.getInputProps("tavilyApiKey")})})]})}),l.values.searchProvider==="exa"&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex sm:flex-row flex-col space-y-4 sm:space-y-0 sm:justify-between",children:[e.jsx("span",{className:"text-gray-700 dark:text-neutral-50",children:s("generalSettings.webSearch.exa.label")}),e.jsx("div",{children:e.jsx(p.Password,{placeholder:s("generalSettings.webSearch.exa.placeholder"),required:!0,className:"w-full mt-4 sm:mt-0 sm:w-[200px]",...l.getInputProps("exaAPIKey")})})]})}),e.jsxs("div",{className:"flex sm:flex-row flex-col space-y-4 sm:space-y-0 sm:justify-between",children:[e.jsx("span",{className:"text-gray-700 dark:text-neutral-50 ",children:s("generalSettings.webSearch.searchMode.label")}),e.jsx("div",{children:e.jsx(r,{className:"mt-4 sm:mt-0",...l.getInputProps("isSimpleInternetSearch",{type:"checkbox"})})})]}),e.jsxs("div",{className:"flex sm:flex-row flex-col space-y-4 sm:space-y-0 sm:justify-between",children:[e.jsx("span",{className:"text-gray-700 dark:text-neutral-50 ",children:s("generalSettings.webSearch.totalSearchResults.label")}),e.jsx("div",{children:e.jsx($,{placeholder:s("generalSettings.webSearch.totalSearchResults.placeholder"),...l.getInputProps("totalSearchResults"),className:"!w-full mt-4 sm:mt-0 sm:w-[200px]"})})]}),e.jsxs("div",{className:"flex sm:flex-row flex-col space-y-4 sm:space-y-0 sm:justify-between",children:[e.jsx("span",{className:"text-gray-700 dark:text-neutral-50 ",children:s("generalSettings.webSearch.visitSpecificWebsite.label")}),e.jsx("div",{children:e.jsx(r,{className:"mt-4 sm:mt-0",...l.getInputProps("visitSpecificWebsite",{type:"checkbox"})})})]}),e.jsxs("div",{className:"flex sm:flex-row flex-col space-y-4 sm:space-y-0 sm:justify-between",children:[e.jsx("span",{className:"text-gray-700 dark:text-neutral-50 ",children:s("generalSettings.webSearch.searchOnByDefault.label")}),e.jsx("div",{children:e.jsx(r,{className:"mt-4 sm:mt-0",...l.getInputProps("defaultInternetSearchOn",{type:"checkbox"})})})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(X,{btnType:"submit"})})]})]})},we=async()=>{const s=await pe(),l=await se(),t=await ae(),o=await le(),i=JSON.stringify({knowledge:s,chat:l,vector:t,prompts:o}),x=new Blob([i],{type:"application/json"}),m=URL.createObjectURL(x),d=document.createElement("a");d.href=m,d.download=`page-assist-${new Date().toISOString()}.json`,d.click(),URL.revokeObjectURL(m)},ye=async s=>{const l=new FileReader;l.onload=async()=>{try{const t=JSON.parse(l.result);t!=null&&t.knowledge&&await be(t.knowledge),t!=null&&t.chat&&await te(t.chat),t!=null&&t.vector&&await oe(t.vector),t!=null&&t.prompts&&await ge(t.prompts),N.success("Data imported successfully")}catch(t){console.error(t),N.error("Failed to import data")}},l.readAsText(s)},ve=()=>{const{t:s}=j("settings"),l=E(),{clearChat:t}=re(),{increase:o,decrease:i,scale:x}=G(),[m,d]=n({key:"actionIconClick",instance:new k({area:"local"})},"webui"),[b,u]=n({key:"contextMenuClick",instance:new k({area:"local"})},"sidePanel");return e.jsxs("div",{children:[e.jsxs("div",{className:"mb-5",children:[e.jsx("h2",{className:"text-base font-semibold leading-7 text-gray-900 dark:text-white",children:s("generalSettings.system.heading")}),e.jsx("div",{className:"border border-b border-gray-200 dark:border-gray-600 mt-3"})]}),e.jsxs("div",{className:"flex flex-row mb-3 justify-between items-center",children:[e.jsxs("span",{className:"text-black dark:text-white font-medium",children:[e.jsx(f,{}),s("generalSettings.system.fontSize.label")]}),e.jsxs("div",{className:"flex flex-row items-center gap-3",children:[e.jsx("button",{onClick:i,className:"bg-black hover:bg-gray-800 dark:bg-white dark:hover:bg-gray-200 text-white dark:text-black px-3 py-1.5 rounded-lg transition-colors duration-200 font-medium text-sm",children:"A-"}),e.jsxs("span",{className:"min-w-[2rem] text-center font-medium text-black dark:text-white",children:[x.toFixed(1),"x"]}),e.jsx("button",{onClick:o,className:"bg-black hover:bg-gray-800 dark:bg-white dark:hover:bg-gray-200 text-white dark:text-black px-3 py-1.5 rounded-lg transition-colors duration-200 font-medium text-sm",children:"A+"})," "]})]}),e.jsxs("div",{className:"flex flex-row mb-3 justify-between",children:[e.jsxs("span",{className:"text-gray-700 dark:text-neutral-50 ",children:[e.jsx(f,{}),s("generalSettings.system.actionIcon.label")]}),e.jsx(h,{options:[{label:"Open Web UI",value:"webui"},{label:"Open SidePanel",value:"sidePanel"}],value:m,className:"w-full mt-4 sm:mt-0 sm:w-[200px]",onChange:c=>{d(c)}})]}),e.jsxs("div",{className:"flex flex-row mb-3 justify-between",children:[e.jsxs("span",{className:"text-gray-700 dark:text-neutral-50 ",children:[e.jsx(f,{}),s("generalSettings.system.contextMenu.label")]}),e.jsx(h,{options:[{label:"Open Web UI",value:"webui"},{label:"Open SidePanel",value:"sidePanel"}],value:b,className:"w-full mt-4 sm:mt-0 sm:w-[200px]",onChange:c=>{u(c)}})]}),e.jsxs("div",{className:"flex flex-row mb-3 justify-between",children:[e.jsx("span",{className:"text-gray-700 dark:text-neutral-50 ",children:s("generalSettings.system.export.label")}),e.jsx("button",{onClick:we,className:"bg-gray-800 dark:bg-white text-white dark:text-gray-900 px-4 py-2 rounded-md cursor-pointer",children:s("generalSettings.system.export.button")})]}),e.jsxs("div",{className:"flex flex-row mb-3 justify-between",children:[e.jsx("span",{className:"text-gray-700 dark:text-neutral-50 ",children:s("generalSettings.system.import.label")}),e.jsx("label",{htmlFor:"import",className:"bg-gray-800 dark:bg-white text-white dark:text-gray-900 px-4 py-2 rounded-md cursor-pointer",children:s("generalSettings.system.import.button")}),e.jsx("input",{type:"file",accept:".json",id:"import",className:"hidden",onChange:c=>{c.target.files&&ye(c.target.files[0])}})]}),e.jsxs("div",{className:"flex flex-row mb-3 justify-between",children:[e.jsx("span",{className:"text-gray-700 dark:text-neutral-50 ",children:s("generalSettings.system.deleteChatHistory.label")}),e.jsx("button",{onClick:async()=>{if(window.confirm(s("generalSettings.system.deleteChatHistory.confirm"))){await new ne().deleteAllChatHistory(),l.invalidateQueries({queryKey:["fetchChatHistory"]}),t();try{await w.storage.sync.clear(),await w.storage.local.clear(),await w.storage.session.clear()}catch(c){console.error("Error clearing storage:",c)}}},className:"bg-red-500 dark:bg-red-600 text-white dark:text-gray-200 px-4 py-2 rounded-md",children:s("generalSettings.system.deleteChatHistory.button")})]})]})},ke=()=>{const[s,l]=n("userChatBubble",!0),[t,o]=n("copilotResumeLastChat",!1),[i,x]=n("webUIResumeLastChat",!1),[m,d]=n("defaultChatWithWebsite",!1),[b,u]=n("restoreLastChatModel",!1),[c,S]=n("autoCopyResponseToClipboard",!1),[C,I]=n("titleGenEnabled",!1),[P,L]=n("hideCurrentChatModelSettings",!1),[O,R]=n("sendNotificationAfterIndexing",!1),[M,A]=n("checkOllamaStatus",!0),[z,U]=n("checkWideMode",!1),[F,W]=n("openReasoning",!1),[B,D]=n("useMarkdownForUserMessage",!1),{mode:y,toggleDarkMode:q}=J(),{t:g}=j("settings"),{changeLocale:K,locale:T,supportLanguage:H}=ce();return e.jsxs("dl",{className:"flex flex-col space-y-6 text-sm",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-base font-semibold leading-7 text-gray-900 dark:text-white",children:g("generalSettings.title")}),e.jsx("div",{className:"border border-b border-gray-200 dark:border-gray-600 mt-3"})]}),e.jsxs("div",{className:"flex flex-row justify-between",children:[e.jsx("span",{className:"text-gray-700   dark:text-neutral-50",children:g("generalSettings.settings.language.label")}),e.jsx(h,{placeholder:g("generalSettings.settings.language.placeholder"),allowClear:!0,showSearch:!0,style:{width:"200px"},options:H,value:T,filterOption:(a,v)=>v.label.toLowerCase().indexOf(a.toLowerCase())>=0||v.value.toLowerCase().indexOf(a.toLowerCase())>=0,onChange:a=>{K(a)}})]}),e.jsxs("div",{className:"flex flex-row justify-between",children:[e.jsx("div",{className:"inline-flex items-center gap-2",children:e.jsx("span",{className:"text-gray-700   dark:text-neutral-50",children:g("generalSettings.settings.copilotResumeLastChat.label")})}),e.jsx(r,{checked:t,onChange:a=>o(a)})]}),e.jsxs("div",{className:"flex flex-row justify-between",children:[e.jsx("div",{className:"inline-flex items-center gap-2",children:e.jsx("span",{className:"text-gray-700   dark:text-neutral-50",children:g("generalSettings.settings.turnOnChatWithWebsite.label")})}),e.jsx(r,{checked:m,onChange:a=>d(a)})]}),e.jsxs("div",{className:"flex flex-row justify-between",children:[e.jsx("div",{className:"inline-flex items-center gap-2",children:e.jsx("span",{className:"text-gray-700   dark:text-neutral-50",children:g("generalSettings.settings.webUIResumeLastChat.label")})}),e.jsx(r,{checked:i,onChange:a=>x(a)})]}),e.jsxs("div",{className:"flex flex-row justify-between",children:[e.jsx("div",{className:"inline-flex items-center gap-2",children:e.jsx("span",{className:"text-gray-700   dark:text-neutral-50",children:g("generalSettings.settings.hideCurrentChatModelSettings.label")})}),e.jsx(r,{checked:P,onChange:a=>L(a)})]}),e.jsxs("div",{className:"flex flex-row justify-between",children:[e.jsx("div",{className:"inline-flex items-center gap-2",children:e.jsx("span",{className:"text-gray-700   dark:text-neutral-50",children:g("generalSettings.settings.restoreLastChatModel.label")})}),e.jsx(r,{checked:b,onChange:a=>u(a)})]}),e.jsxs("div",{className:"flex flex-row justify-between",children:[e.jsx("div",{className:"inline-flex items-center gap-2",children:e.jsx("span",{className:"text-gray-700   dark:text-neutral-50",children:g("generalSettings.settings.sendNotificationAfterIndexing.label")})}),e.jsx(r,{checked:O,onChange:R})]}),e.jsxs("div",{className:"flex flex-row justify-between",children:[e.jsx("div",{className:"inline-flex items-center gap-2",children:e.jsx("span",{className:"text-gray-700   dark:text-neutral-50",children:g("generalSettings.settings.generateTitle.label")})}),e.jsx(r,{checked:C,onChange:a=>I(a)})]}),e.jsxs("div",{className:"flex flex-row justify-between",children:[e.jsx("div",{className:"inline-flex items-center gap-2",children:e.jsx("span",{className:"text-gray-700   dark:text-neutral-50",children:g("generalSettings.settings.ollamaStatus.label")})}),e.jsx(r,{checked:M,onChange:a=>A(a)})]}),e.jsxs("div",{className:"flex flex-row justify-between",children:[e.jsx("div",{className:"inline-flex items-center gap-2",children:e.jsx("span",{className:"text-gray-700   dark:text-neutral-50",children:g("generalSettings.settings.wideMode.label")})}),e.jsx(r,{checked:z,onChange:a=>U(a)})]}),e.jsxs("div",{className:"flex flex-row justify-between",children:[e.jsx("div",{className:"inline-flex items-center gap-2",children:e.jsx("span",{className:"text-gray-700   dark:text-neutral-50",children:g("generalSettings.settings.openReasoning.label")})}),e.jsx(r,{checked:F,onChange:a=>W(a)})]}),e.jsxs("div",{className:"flex flex-row justify-between",children:[e.jsx("div",{className:"inline-flex items-center gap-2",children:e.jsx("span",{className:"text-gray-700   dark:text-neutral-50",children:g("generalSettings.settings.userChatBubble.label")})}),e.jsx(r,{checked:s,onChange:a=>l(a)})]}),e.jsxs("div",{className:"flex flex-row justify-between",children:[e.jsx("div",{className:"inline-flex items-center gap-2",children:e.jsx("span",{className:"text-gray-700   dark:text-neutral-50",children:g("generalSettings.settings.autoCopyResponseToClipboard.label")})}),e.jsx(r,{checked:c,onChange:a=>S(a)})]}),e.jsxs("div",{className:"flex flex-row justify-between",children:[e.jsx("div",{className:"inline-flex items-center gap-2",children:e.jsx("span",{className:"text-gray-700   dark:text-neutral-50",children:g("generalSettings.settings.useMarkdownForUserMessage.label")})}),e.jsx(r,{checked:B,onChange:a=>D(a)})]}),e.jsxs("div",{className:"flex flex-row justify-between",children:[e.jsx("span",{className:"text-gray-700 dark:text-neutral-50 ",children:g("generalSettings.settings.darkMode.label")}),e.jsxs("button",{onClick:q,className:"inline-flex mt-4 items-center rounded-md border border-transparent bg-black px-2 py-2 text-sm font-medium leading-4 text-white shadow-sm  dark:bg-white dark:text-gray-800 disabled:opacity-50 ",children:[y==="dark"?e.jsx(de,{className:"w-4 h-4 mr-2"}):e.jsx(me,{className:"w-4 h-4 mr-2"}),g(y==="dark"?"generalSettings.settings.darkMode.options.light":"generalSettings.settings.darkMode.options.dark")]})]}),e.jsx(fe,{}),e.jsx(xe,{}),e.jsx(he,{}),e.jsx(ve,{})]})},Ne=()=>e.jsx(Q,{children:e.jsx(V,{children:e.jsx(ke,{})})});export{Ne as default};
