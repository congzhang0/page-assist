import{a as j,j as e,e as X,B as Z,f as n,u as ee,__tla as ae}from"./FontSizeProvider-D4Gh80tw.js";import{B as f,S as se,__tla as le}from"./SettingsOptionLayout-gi-p9doQ.js";import{O as te,__tla as oe}from"./Layout-B2rmxZ24.js";import{u as re,k as ge,S as h,D as p,o as g,I as ne,l as ie,a0 as L,b as y}from"./SaveButton-Dir2VHfX.js";import{Q as ce,R as de,U as me,V as xe,W as he,Y as pe,_ as ue,$ as be,h as je,a0 as fe,__tla as ye}from"./Sidebar-uBkE2MHz.js";import{u as we}from"./use-form-CQanvGBF.js";import{u as ve,b as ke,M as Ne,a as Se,T as Ce}from"./sst-settings-dydSCnXV.js";import{e as Pe,i as Ie,__tla as _e}from"./knowledge-BRLesPVX.js";import{s as O}from"./chevron-right-CDZTKm5_.js";import"./elevenlabs-DGtBRP3_.js";let R,Le=Promise.all([(()=>{try{return ae}catch{}})(),(()=>{try{return le}catch{}})(),(()=>{try{return oe}catch{}})(),(()=>{try{return ye}catch{}})(),(()=>{try{return _e}catch{}})()]).then(async()=>{let w,v,k,N,S,C,P;w=["google.ad","google.ae","google.al","google.am","google.as","google.at","google.az","google.ba","google.be","google.bf","google.bg","google.bi","google.bj","google.bs","google.bt","google.by","google.ca","google.cd","google.cf","google.cg","google.ch","google.ci","google.cl","google.cm","google.co.ao","google.co.bw","google.co.ck","google.co.cr","google.co.id","google.co.il","google.co.in","google.co.jp","google.co.ke","google.co.kr","google.co.ls","google.co.ma","google.co.mz","google.co.nz","google.co.th","google.co.tz","google.co.ug","google.co.uk","google.co.uz","google.co.ve","google.co.vi","google.co.za","google.co.zm","google.co.zw","google.com","google.com.af","google.com.ag","google.com.ai","google.com.ar","google.com.au","google.com.bd","google.com.bh","google.com.bn","google.com.bo","google.com.br","google.com.bz","google.com.co","google.com.cu","google.com.cy","google.com.do","google.com.ec","google.com.eg","google.com.et","google.com.fj","google.com.gh","google.com.gi","google.com.gt","google.com.hk","google.com.jm","google.com.kh","google.com.kw","google.com.lb","google.com.ly","google.com.mm","google.com.mt","google.com.mx","google.com.my","google.com.na","google.com.ng","google.com.ni","google.com.np","google.com.om","google.com.pa","google.com.pe","google.com.pg","google.com.ph","google.com.pk","google.com.pr","google.com.py","google.com.qa","google.com.sa","google.com.sb","google.com.sg","google.com.sl","google.com.sv","google.com.tj","google.com.tr","google.com.tw","google.com.ua","google.com.uy","google.com.vc","google.com.vn","google.cv","google.cz","google.de","google.dj","google.dk","google.dm","google.dz","google.ee","google.es","google.fi","google.fm","google.fr","google.ga","google.ge","google.gl","google.gm","google.gp","google.gr","google.gy","google.hn","google.hr","google.ht","google.hu","google.ie","google.iq","google.is","google.it","google.je","google.jo","google.kg","google.ki","google.kz","google.la","google.li","google.lk","google.lt","google.lu","google.lv","google.md","google.mg","google.mk","google.ml","google.mn","google.ms","google.mu","google.mv","google.mw","google.ne","google.nl","google.no","google.nr","google.nu","google.pl","google.ps","google.pt","google.ro","google.rs","google.ru","google.rw","google.sc","google.se","google.sh","google.si","google.sk","google.sm","google.sn","google.so","google.sr","google.td","google.tg","google.tk","google.tl","google.tm","google.tn","google.to","google.tt","google.vg","google.vu","google.ws"],v=[{label:"Google",value:"google"},{label:"DuckDuckGo",value:"duckduckgo"},{label:"Sogou",value:"sogou"},{label:"Baidu",value:"baidu"},{label:"Brave",value:"brave"},{label:"Searxng",value:"searxng"},{label:"Brave Search API",value:"brave-api"},{label:"Tavily Search API",value:"tavily-api"},{label:"Bing",value:"bing"},{label:"Stract",value:"stract"},{label:"Startpage",value:"startpage"},{label:"Exa",value:"exa"}],k=()=>{const{t:a}=j("settings"),l=we({initialValues:{isSimpleInternetSearch:!1,searchProvider:"",totalSearchResults:0,visitSpecificWebsite:!1,searxngURL:"",searxngJSONMode:!1,braveApiKey:"",tavilyApiKey:"",googleDomain:"",defaultInternetSearchOn:!1,exaAPIKey:""}}),{status:t}=re({queryKey:["fetchSearchSettings"],queryFn:async()=>{const o=await de();return l.setValues(o),o}});return t==="pending"||t==="error"?e.jsx(ge,{active:!0}):e.jsxs("div",{children:[e.jsxs("div",{className:"mb-5",children:[e.jsx("h2",{className:"text-base font-semibold leading-7 text-gray-900 dark:text-white",children:a("generalSettings.webSearch.heading")}),e.jsx("div",{className:"border border-b border-gray-200 dark:border-gray-600 mt-3"})]}),e.jsxs("form",{onSubmit:l.onSubmit(async o=>{await ce(o)}),className:"space-y-4",children:[e.jsxs("div",{className:"flex sm:flex-row flex-col space-y-4 sm:space-y-0 sm:justify-between",children:[e.jsx("span",{className:"text-gray-700 dark:text-neutral-50 ",children:a("generalSettings.webSearch.provider.label")}),e.jsx("div",{children:e.jsx(h,{placeholder:a("generalSettings.webSearch.provider.placeholder"),showSearch:!0,className:"w-full mt-4 sm:mt-0 sm:w-[200px]",options:v,filterOption:(o,i)=>i.label.toLowerCase().indexOf(o.toLowerCase())>=0||i.value.toLowerCase().indexOf(o.toLowerCase())>=0,...l.getInputProps("searchProvider")})})]}),l.values.searchProvider==="searxng"&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex sm:flex-row flex-col space-y-4 sm:space-y-0 sm:justify-between",children:[e.jsx("span",{className:"text-gray-700 dark:text-neutral-50",children:a("generalSettings.webSearch.searxng.url.label")}),e.jsx("div",{children:e.jsx(p,{placeholder:"https://searxng.example.com",className:"w-full mt-4 sm:mt-0 sm:w-[200px]",required:!0,...l.getInputProps("searxngURL")})})]})}),l.values.searchProvider==="google"&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex sm:flex-row flex-col space-y-4 sm:space-y-0 sm:justify-between",children:[e.jsx("span",{className:"text-gray-700 dark:text-neutral-50",children:a("generalSettings.webSearch.googleDomain.label")}),e.jsx("div",{children:e.jsx(h,{showSearch:!0,className:"w-full mt-4 sm:mt-0 sm:w-[200px]",options:w.map(o=>({label:o,value:o})),filterOption:(o,i)=>i.label.toLowerCase().indexOf(o.toLowerCase())>=0||i.value.toLowerCase().indexOf(o.toLowerCase())>=0,...l.getInputProps("googleDomain")})})]})}),l.values.searchProvider==="brave-api"&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex sm:flex-row flex-col space-y-4 sm:space-y-0 sm:justify-between",children:[e.jsx("span",{className:"text-gray-700 dark:text-neutral-50",children:a("generalSettings.webSearch.braveApi.label")}),e.jsx("div",{children:e.jsx(p.Password,{placeholder:a("generalSettings.webSearch.braveApi.placeholder"),required:!0,className:"w-full mt-4 sm:mt-0 sm:w-[200px]",...l.getInputProps("braveApiKey")})})]})}),l.values.searchProvider==="tavily-api"&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex sm:flex-row flex-col space-y-4 sm:space-y-0 sm:justify-between",children:[e.jsx("span",{className:"text-gray-700 dark:text-neutral-50",children:a("generalSettings.webSearch.tavilyApi.label")}),e.jsx("div",{children:e.jsx(p.Password,{placeholder:a("generalSettings.webSearch.tavilyApi.placeholder"),required:!0,className:"w-full mt-4 sm:mt-0 sm:w-[200px]",...l.getInputProps("tavilyApiKey")})})]})}),l.values.searchProvider==="exa"&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex sm:flex-row flex-col space-y-4 sm:space-y-0 sm:justify-between",children:[e.jsx("span",{className:"text-gray-700 dark:text-neutral-50",children:a("generalSettings.webSearch.exa.label")}),e.jsx("div",{children:e.jsx(p.Password,{placeholder:a("generalSettings.webSearch.exa.placeholder"),required:!0,className:"w-full mt-4 sm:mt-0 sm:w-[200px]",...l.getInputProps("exaAPIKey")})})]})}),e.jsxs("div",{className:"flex sm:flex-row flex-col space-y-4 sm:space-y-0 sm:justify-between",children:[e.jsx("span",{className:"text-gray-700 dark:text-neutral-50 ",children:a("generalSettings.webSearch.searchMode.label")}),e.jsx("div",{children:e.jsx(g,{className:"mt-4 sm:mt-0",...l.getInputProps("isSimpleInternetSearch",{type:"checkbox"})})})]}),e.jsxs("div",{className:"flex sm:flex-row flex-col space-y-4 sm:space-y-0 sm:justify-between",children:[e.jsx("span",{className:"text-gray-700 dark:text-neutral-50 ",children:a("generalSettings.webSearch.totalSearchResults.label")}),e.jsx("div",{children:e.jsx(ne,{placeholder:a("generalSettings.webSearch.totalSearchResults.placeholder"),...l.getInputProps("totalSearchResults"),className:"!w-full mt-4 sm:mt-0 sm:w-[200px]"})})]}),e.jsxs("div",{className:"flex sm:flex-row flex-col space-y-4 sm:space-y-0 sm:justify-between",children:[e.jsx("span",{className:"text-gray-700 dark:text-neutral-50 ",children:a("generalSettings.webSearch.visitSpecificWebsite.label")}),e.jsx("div",{children:e.jsx(g,{className:"mt-4 sm:mt-0",...l.getInputProps("visitSpecificWebsite",{type:"checkbox"})})})]}),e.jsxs("div",{className:"flex sm:flex-row flex-col space-y-4 sm:space-y-0 sm:justify-between",children:[e.jsx("span",{className:"text-gray-700 dark:text-neutral-50 ",children:a("generalSettings.webSearch.searchOnByDefault.label")}),e.jsx("div",{children:e.jsx(g,{className:"mt-4 sm:mt-0",...l.getInputProps("defaultInternetSearchOn",{type:"checkbox"})})})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(ie,{btnType:"submit"})})]})]})},N=async()=>{const a=await Pe(),l=await me(),t=await xe(),o=await he(),i=JSON.stringify({knowledge:a,chat:l,vector:t,prompts:o}),x=new Blob([i],{type:"application/json"}),m=URL.createObjectURL(x),d=document.createElement("a");d.href=m,d.download=`page-assist-${new Date().toISOString()}.json`,d.click(),URL.revokeObjectURL(m)},S=async a=>{const l=new FileReader;l.onload=async()=>{try{const t=JSON.parse(l.result);t!=null&&t.knowledge&&await Ie(t.knowledge),t!=null&&t.chat&&await pe(t.chat),t!=null&&t.vector&&await ue(t.vector),t!=null&&t.prompts&&await be(t.prompts),O.success("Data imported successfully")}catch(t){console.error(t),O.error("Failed to import data")}},l.readAsText(a)},C=()=>{const{t:a}=j("settings"),l=X(),{clearChat:t}=je(),{increase:o,decrease:i,scale:x}=Z(),[m,d]=n({key:"actionIconClick",instance:new L({area:"local"})},"webui"),[u,b]=n({key:"contextMenuClick",instance:new L({area:"local"})},"sidePanel");return e.jsxs("div",{children:[e.jsxs("div",{className:"mb-5",children:[e.jsx("h2",{className:"text-base font-semibold leading-7 text-gray-900 dark:text-white",children:a("generalSettings.system.heading")}),e.jsx("div",{className:"border border-b border-gray-200 dark:border-gray-600 mt-3"})]}),e.jsxs("div",{className:"flex flex-row mb-3 justify-between items-center",children:[e.jsxs("span",{className:"text-black dark:text-white font-medium",children:[e.jsx(f,{}),a("generalSettings.system.fontSize.label")]}),e.jsxs("div",{className:"flex flex-row items-center gap-3",children:[e.jsx("button",{onClick:i,className:"bg-black hover:bg-gray-800 dark:bg-white dark:hover:bg-gray-200 text-white dark:text-black px-3 py-1.5 rounded-lg transition-colors duration-200 font-medium text-sm",children:"A-"}),e.jsxs("span",{className:"min-w-[2rem] text-center font-medium text-black dark:text-white",children:[x.toFixed(1),"x"]}),e.jsx("button",{onClick:o,className:"bg-black hover:bg-gray-800 dark:bg-white dark:hover:bg-gray-200 text-white dark:text-black px-3 py-1.5 rounded-lg transition-colors duration-200 font-medium text-sm",children:"A+"})," "]})]}),e.jsxs("div",{className:"flex flex-row mb-3 justify-between",children:[e.jsxs("span",{className:"text-gray-700 dark:text-neutral-50 ",children:[e.jsx(f,{}),a("generalSettings.system.actionIcon.label")]}),e.jsx(h,{options:[{label:"Open Web UI",value:"webui"},{label:"Open SidePanel",value:"sidePanel"}],value:m,className:"w-full mt-4 sm:mt-0 sm:w-[200px]",onChange:c=>{d(c)}})]}),e.jsxs("div",{className:"flex flex-row mb-3 justify-between",children:[e.jsxs("span",{className:"text-gray-700 dark:text-neutral-50 ",children:[e.jsx(f,{}),a("generalSettings.system.contextMenu.label")]}),e.jsx(h,{options:[{label:"Open Web UI",value:"webui"},{label:"Open SidePanel",value:"sidePanel"}],value:u,className:"w-full mt-4 sm:mt-0 sm:w-[200px]",onChange:c=>{b(c)}})]}),e.jsxs("div",{className:"flex flex-row mb-3 justify-between",children:[e.jsx("span",{className:"text-gray-700 dark:text-neutral-50 ",children:a("generalSettings.system.export.label")}),e.jsx("button",{onClick:N,className:"bg-gray-800 dark:bg-white text-white dark:text-gray-900 px-4 py-2 rounded-md cursor-pointer",children:a("generalSettings.system.export.button")})]}),e.jsxs("div",{className:"flex flex-row mb-3 justify-between",children:[e.jsx("span",{className:"text-gray-700 dark:text-neutral-50 ",children:a("generalSettings.system.import.label")}),e.jsx("label",{htmlFor:"import",className:"bg-gray-800 dark:bg-white text-white dark:text-gray-900 px-4 py-2 rounded-md cursor-pointer",children:a("generalSettings.system.import.button")}),e.jsx("input",{type:"file",accept:".json",id:"import",className:"hidden",onChange:c=>{c.target.files&&S(c.target.files[0])}})]}),e.jsxs("div",{className:"flex flex-row mb-3 justify-between",children:[e.jsx("span",{className:"text-gray-700 dark:text-neutral-50 ",children:a("generalSettings.system.deleteChatHistory.label")}),e.jsx("button",{onClick:async()=>{if(window.confirm(a("generalSettings.system.deleteChatHistory.confirm"))){await new fe().deleteAllChatHistory(),l.invalidateQueries({queryKey:["fetchChatHistory"]}),t();try{await y.storage.sync.clear(),await y.storage.local.clear(),await y.storage.session.clear()}catch(c){console.error("Error clearing storage:",c)}}},className:"bg-red-500 dark:bg-red-600 text-white dark:text-gray-200 px-4 py-2 rounded-md",children:a("generalSettings.system.deleteChatHistory.button")})]})]})},P=()=>{const[a,l]=n("userChatBubble",!0),[t,o]=n("copilotResumeLastChat",!1),[i,x]=n("webUIResumeLastChat",!1),[m,d]=n("defaultChatWithWebsite",!1),[u,b]=n("restoreLastChatModel",!1),[c,M]=n("autoCopyResponseToClipboard",!1),[A,U]=n("titleGenEnabled",!1),[z,F]=n("hideCurrentChatModelSettings",!1),[W,B]=n("sendNotificationAfterIndexing",!1),[D,q]=n("checkOllamaStatus",!0),[K,T]=n("checkWideMode",!1),[H,E]=n("openReasoning",!1),[G,J]=n("useMarkdownForUserMessage",!1),{mode:I,toggleDarkMode:V}=ee(),{t:r}=j("settings"),{changeLocale:Q,locale:$,supportLanguage:Y}=ve();return e.jsxs("dl",{className:"flex flex-col space-y-6 text-sm",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-base font-semibold leading-7 text-gray-900 dark:text-white",children:r("generalSettings.title")}),e.jsx("div",{className:"border border-b border-gray-200 dark:border-gray-600 mt-3"})]}),e.jsxs("div",{className:"flex flex-row justify-between",children:[e.jsx("span",{className:"text-gray-700   dark:text-neutral-50",children:r("generalSettings.settings.language.label")}),e.jsx(h,{placeholder:r("generalSettings.settings.language.placeholder"),allowClear:!0,showSearch:!0,style:{width:"200px"},options:Y,value:$,filterOption:(s,_)=>_.label.toLowerCase().indexOf(s.toLowerCase())>=0||_.value.toLowerCase().indexOf(s.toLowerCase())>=0,onChange:s=>{Q(s)}})]}),e.jsxs("div",{className:"flex flex-row justify-between",children:[e.jsx("div",{className:"inline-flex items-center gap-2",children:e.jsx("span",{className:"text-gray-700   dark:text-neutral-50",children:r("generalSettings.settings.copilotResumeLastChat.label")})}),e.jsx(g,{checked:t,onChange:s=>o(s)})]}),e.jsxs("div",{className:"flex flex-row justify-between",children:[e.jsx("div",{className:"inline-flex items-center gap-2",children:e.jsx("span",{className:"text-gray-700   dark:text-neutral-50",children:r("generalSettings.settings.turnOnChatWithWebsite.label")})}),e.jsx(g,{checked:m,onChange:s=>d(s)})]}),e.jsxs("div",{className:"flex flex-row justify-between",children:[e.jsx("div",{className:"inline-flex items-center gap-2",children:e.jsx("span",{className:"text-gray-700   dark:text-neutral-50",children:r("generalSettings.settings.webUIResumeLastChat.label")})}),e.jsx(g,{checked:i,onChange:s=>x(s)})]}),e.jsxs("div",{className:"flex flex-row justify-between",children:[e.jsx("div",{className:"inline-flex items-center gap-2",children:e.jsx("span",{className:"text-gray-700   dark:text-neutral-50",children:r("generalSettings.settings.hideCurrentChatModelSettings.label")})}),e.jsx(g,{checked:z,onChange:s=>F(s)})]}),e.jsxs("div",{className:"flex flex-row justify-between",children:[e.jsx("div",{className:"inline-flex items-center gap-2",children:e.jsx("span",{className:"text-gray-700   dark:text-neutral-50",children:r("generalSettings.settings.restoreLastChatModel.label")})}),e.jsx(g,{checked:u,onChange:s=>b(s)})]}),e.jsxs("div",{className:"flex flex-row justify-between",children:[e.jsx("div",{className:"inline-flex items-center gap-2",children:e.jsx("span",{className:"text-gray-700   dark:text-neutral-50",children:r("generalSettings.settings.sendNotificationAfterIndexing.label")})}),e.jsx(g,{checked:W,onChange:B})]}),e.jsxs("div",{className:"flex flex-row justify-between",children:[e.jsx("div",{className:"inline-flex items-center gap-2",children:e.jsx("span",{className:"text-gray-700   dark:text-neutral-50",children:r("generalSettings.settings.generateTitle.label")})}),e.jsx(g,{checked:A,onChange:s=>U(s)})]}),e.jsxs("div",{className:"flex flex-row justify-between",children:[e.jsx("div",{className:"inline-flex items-center gap-2",children:e.jsx("span",{className:"text-gray-700   dark:text-neutral-50",children:r("generalSettings.settings.ollamaStatus.label")})}),e.jsx(g,{checked:D,onChange:s=>q(s)})]}),e.jsxs("div",{className:"flex flex-row justify-between",children:[e.jsx("div",{className:"inline-flex items-center gap-2",children:e.jsx("span",{className:"text-gray-700   dark:text-neutral-50",children:r("generalSettings.settings.wideMode.label")})}),e.jsx(g,{checked:K,onChange:s=>T(s)})]}),e.jsxs("div",{className:"flex flex-row justify-between",children:[e.jsx("div",{className:"inline-flex items-center gap-2",children:e.jsx("span",{className:"text-gray-700   dark:text-neutral-50",children:r("generalSettings.settings.openReasoning.label")})}),e.jsx(g,{checked:H,onChange:s=>E(s)})]}),e.jsxs("div",{className:"flex flex-row justify-between",children:[e.jsx("div",{className:"inline-flex items-center gap-2",children:e.jsx("span",{className:"text-gray-700   dark:text-neutral-50",children:r("generalSettings.settings.userChatBubble.label")})}),e.jsx(g,{checked:a,onChange:s=>l(s)})]}),e.jsxs("div",{className:"flex flex-row justify-between",children:[e.jsx("div",{className:"inline-flex items-center gap-2",children:e.jsx("span",{className:"text-gray-700   dark:text-neutral-50",children:r("generalSettings.settings.autoCopyResponseToClipboard.label")})}),e.jsx(g,{checked:c,onChange:s=>M(s)})]}),e.jsxs("div",{className:"flex flex-row justify-between",children:[e.jsx("div",{className:"inline-flex items-center gap-2",children:e.jsx("span",{className:"text-gray-700   dark:text-neutral-50",children:r("generalSettings.settings.useMarkdownForUserMessage.label")})}),e.jsx(g,{checked:G,onChange:s=>J(s)})]}),e.jsxs("div",{className:"flex flex-row justify-between",children:[e.jsx("span",{className:"text-gray-700 dark:text-neutral-50 ",children:r("generalSettings.settings.darkMode.label")}),e.jsxs("button",{onClick:V,className:"inline-flex mt-4 items-center rounded-md border border-transparent bg-black px-2 py-2 text-sm font-medium leading-4 text-white shadow-sm  dark:bg-white dark:text-gray-800 disabled:opacity-50 ",children:[I==="dark"?e.jsx(ke,{className:"w-4 h-4 mr-2"}):e.jsx(Ne,{className:"w-4 h-4 mr-2"}),r(I==="dark"?"generalSettings.settings.darkMode.options.light":"generalSettings.settings.darkMode.options.dark")]})]}),e.jsx(k,{}),e.jsx(Se,{}),e.jsx(Ce,{}),e.jsx(C,{})]})},R=()=>e.jsx(te,{children:e.jsx(se,{children:e.jsx(P,{})})})});export{Le as __tla,R as default};
