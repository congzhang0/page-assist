import{h as R,D as U,G as W,r as b,H as S,I as F,J as z}from"./FontSizeProvider-D3enan1E.js";var G={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0};const J=R(G);var M=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function A(e){var n={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},t=e.match(/<\/?([^\s]+?)[/\s>]/);if(t&&(n.name=t[1],(J[t[1]]||e.charAt(e.length-2)==="/")&&(n.voidElement=!0),n.name.startsWith("!--"))){var r=e.indexOf("-->");return{type:"comment",comment:r!==-1?e.slice(4,r):""}}for(var d=new RegExp(M),s=null;(s=d.exec(e))!==null;)if(s[0].trim())if(s[1]){var a=s[1].trim(),l=[a,""];a.indexOf("=")>-1&&(l=a.split("=")),n.attrs[l[0]]=l[1],d.lastIndex--}else s[2]&&(n.attrs[s[2]]=s[3].trim().substring(1,s[3].length-1));return n}var Y=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,Z=/^\s*$/,q=Object.create(null);function L(e,n){switch(n.type){case"text":return e+n.content;case"tag":return e+="<"+n.name+(n.attrs?function(t){var r=[];for(var d in t)r.push(d+'="'+t[d]+'"');return r.length?" "+r.join(" "):""}(n.attrs):"")+(n.voidElement?"/>":">"),n.voidElement?e:e+n.children.reduce(L,"")+"</"+n.name+">";case"comment":return e+"<!--"+n.comment+"-->"}}var Q={parse:function(e,n){n||(n={}),n.components||(n.components=q);var t,r=[],d=[],s=-1,a=!1;if(e.indexOf("<")!==0){var l=e.indexOf("<");r.push({type:"text",content:l===-1?e:e.substring(0,l)})}return e.replace(Y,function(m,u){if(a){if(m!=="</"+t.name+">")return;a=!1}var y,k=m.charAt(1)!=="/",N=m.startsWith("<!--"),$=u+m.length,x=e.charAt($);if(N){var h=A(m);return s<0?(r.push(h),r):((y=d[s]).children.push(h),r)}if(k&&(s++,(t=A(m)).type==="tag"&&n.components[t.name]&&(t.type="component",a=!0),t.voidElement||a||!x||x==="<"||t.children.push({type:"text",content:e.slice($,e.indexOf("<",$))}),s===0&&r.push(t),(y=d[s-1])&&y.children.push(t),d[s]=t),(!k||t.voidElement)&&(s>-1&&(t.voidElement||t.name===m.slice(2,-1))&&(s--,t=s===-1?r:d[s]),!a&&x!=="<"&&x)){y=s===-1?r:d[s].children;var p=e.indexOf("<",$),i=e.slice($,p===-1?void 0:p);Z.test(i)&&(i=" "),(p>-1&&s+y.length>=0||i!==" ")&&y.push({type:"text",content:i})}}),r},stringify:function(e){return e.reduce(function(n,t){return n+L("",t)},"")}};function B(e,n){if(!e)return!1;const t=e.props?e.props.children:e.children;return n?t.length>0:!!t}function D(e){if(!e)return[];const n=e.props?e.props.children:e.children;return e.props&&e.props.i18nIsDynamicList?K(n):n}function X(e){return Object.prototype.toString.call(e)!=="[object Array]"?!1:e.every(n=>b.isValidElement(n))}function K(e){return Array.isArray(e)?e:[e]}function _(e,n){const t={...n};return t.props=Object.assign(e.props,n.props),t}function P(e,n){if(!e)return"";let t="";const r=K(e),d=n.transSupportBasicHtmlNodes&&n.transKeepBasicHtmlNodesFor?n.transKeepBasicHtmlNodesFor:[];return r.forEach((s,a)=>{if(typeof s=="string")t+=`${s}`;else if(b.isValidElement(s)){const l=Object.keys(s.props).length,m=d.indexOf(s.type)>-1,u=s.props.children;if(!u&&m&&l===0)t+=`<${s.type}/>`;else if(!u&&(!m||l!==0))t+=`<${a}></${a}>`;else if(s.props.i18nIsDynamicList)t+=`<${a}></${a}>`;else if(m&&l===1&&typeof u=="string")t+=`<${s.type}>${u}</${s.type}>`;else{const y=P(u,n);t+=`<${a}>${y}</${a}>`}}else if(s===null)S("Trans: the passed in value is invalid - seems you passed in a null child.");else if(typeof s=="object"){const{format:l,...m}=s,u=Object.keys(m);if(u.length===1){const y=l?`${u[0]}, ${l}`:u[0];t+=`{{${y}}}`}else S("react-i18next: the passed in object contained more than one variable - the object should look like {{ value, format }} where format is optional.",s)}else S("Trans: the passed in value is invalid - seems you passed in a variable like {number} - please pass in variables for interpolation as full objects like {{number}}.",s)}),t}function C(e,n,t,r,d,s){if(n==="")return[];const a=r.transKeepBasicHtmlNodesFor||[],l=n&&new RegExp(a.map(p=>`<${p}`).join("|")).test(n);if(!e&&!l&&!s)return[n];const m={};function u(p){K(p).forEach(i=>{typeof i!="string"&&(B(i)?u(D(i)):typeof i=="object"&&!b.isValidElement(i)&&Object.assign(m,i))})}u(e);const y=Q.parse(`<0>${n}</0>`),k={...m,...d};function N(p,i,f){const g=D(p),c=x(g,i.children,f);return X(g)&&c.length===0||p.props&&p.props.i18nIsDynamicList?g:c}function $(p,i,f,g,c){p.dummy?(p.children=i,f.push(b.cloneElement(p,{key:g},c?void 0:i))):f.push(...b.Children.map([p],o=>{const O={...o.props};return delete O.i18nIsDynamicList,b.createElement(o.type,{...O,key:g,ref:o.ref},c?null:i)}))}function x(p,i,f){const g=K(p);return K(i).reduce((c,o,O)=>{const V=o.children&&o.children[0]&&o.children[0].content&&t.services.interpolator.interpolate(o.children[0].content,k,t.language);if(o.type==="tag"){let j=g[parseInt(o.name,10)];f.length===1&&!j&&(j=f[0][o.name]),j||(j={});const v=Object.keys(o.attrs).length!==0?_({props:o.attrs},j):j,w=b.isValidElement(v),T=w&&B(o,!0)&&!o.voidElement,I=l&&typeof v=="object"&&v.dummy&&!w,H=typeof e=="object"&&e!==null&&Object.hasOwnProperty.call(e,o.name);if(typeof v=="string"){const E=t.services.interpolator.interpolate(v,k,t.language);c.push(E)}else if(B(v)||T){const E=N(v,o,f);$(v,E,c,O)}else if(I){const E=x(g,o.children,f);$(v,E,c,O)}else if(Number.isNaN(parseFloat(o.name)))if(H){const E=N(v,o,f);$(v,E,c,O,o.voidElement)}else if(r.transSupportBasicHtmlNodes&&a.indexOf(o.name)>-1)if(o.voidElement)c.push(b.createElement(o.name,{key:`${o.name}-${O}`}));else{const E=x(g,o.children,f);c.push(b.createElement(o.name,{key:`${o.name}-${O}`},E))}else if(o.voidElement)c.push(`<${o.name} />`);else{const E=x(g,o.children,f);c.push(`<${o.name}>${E}</${o.name}>`)}else if(typeof v=="object"&&!w){const E=o.children[0]?V:null;E&&c.push(E)}else $(v,V,c,O,o.children.length!==1||!V)}else if(o.type==="text"){const j=r.transWrapTextNodes,v=s?r.unescape(t.services.interpolator.interpolate(o.content,k,t.language)):t.services.interpolator.interpolate(o.content,k,t.language);j?c.push(b.createElement(j,{key:`${o.name}-${O}`},v)):c.push(v)}return c},[])}const h=x([{dummy:!0,children:e||[]}],y,K(e||[]));return D(h[0])}function ee(e){let{children:n,count:t,parent:r,i18nKey:d,context:s,tOptions:a={},values:l,defaults:m,components:u,ns:y,i18n:k,t:N,shouldUnescape:$,...x}=e;const h=k||F();if(!h)return U("You will need to pass in an i18next instance by using i18nextReactModule"),n;const p=N||h.t.bind(h)||(T=>T);a.context=s;const i={...W(),...h.options&&h.options.react};let f=y||p.ns||h.options&&h.options.defaultNS;f=typeof f=="string"?[f]:f||["translation"];const g=P(n,i),c=m||g||i.transEmptyNodeValue||d,{hashTransKey:o}=i,O=d||(o?o(g||c):g||c);h.options&&h.options.interpolation&&h.options.interpolation.defaultVariables&&(l=l&&Object.keys(l).length>0?{...l,...h.options.interpolation.defaultVariables}:{...h.options.interpolation.defaultVariables});const V={...a,count:t,...l,defaultValue:c,ns:f},j=O?p(O,V):c;u&&Object.keys(u).forEach(T=>{const I=u[T];if(typeof I.type=="function"||!I.props||!I.props.children||j.indexOf(`${T}/>`)<0&&j.indexOf(`${T} />`)<0)return;function H(){return b.createElement(b.Fragment,null,I)}u[T]=b.createElement(H)});const v=C(u||n,j,h,i,V,$),w=r!==void 0?r:i.defaultTransParent;return w?b.createElement(w,x,v):v}function ne(e){let{children:n,count:t,parent:r,i18nKey:d,context:s,tOptions:a={},values:l,defaults:m,components:u,ns:y,i18n:k,t:N,shouldUnescape:$,...x}=e;const{i18n:h,defaultNS:p}=b.useContext(z)||{},i=k||h||F(),f=N||i&&i.t.bind(i);return ee({children:n,count:t,parent:r,i18nKey:d,context:s,tOptions:a,values:l,defaults:m,components:u,ns:y||f&&f.ns||p||i&&i.options&&i.options.defaultNS,i18n:i,t:N,shouldUnescape:$,...x})}export{ne as T};
