import{m as ge,r as d}from"./FontSizeProvider-BQs3lYNB.js";var ve=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var i,o,a;if(Array.isArray(e)){if(i=e.length,i!=r.length)return!1;for(o=i;o--!==0;)if(!t(e[o],r[o]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(a=Object.keys(e),i=a.length,i!==Object.keys(r).length)return!1;for(o=i;o--!==0;)if(!Object.prototype.hasOwnProperty.call(r,a[o]))return!1;for(o=i;o--!==0;){var c=a[o];if(!t(e[c],r[c]))return!1}return!0}return e!==e&&r!==r};const J=ge(ve);function Ee(t){if(!/^[0-9a-zA-Z-]+$/.test(t))throw new Error(`[@mantine/use-form] Form name "${t}" is invalid, it should contain only letters, numbers and dashes`)}const Oe=typeof window<"u"?d.useLayoutEffect:d.useEffect;function h(t,e){Oe(()=>{if(t)return window.addEventListener(t,e),()=>window.removeEventListener(t,e)},[t])}function je(t,e){t&&Ee(t),h(`mantine-form:${t}:set-field-value`,r=>e.setFieldValue(r.detail.path,r.detail.value)),h(`mantine-form:${t}:set-values`,r=>e.setValues(r.detail)),h(`mantine-form:${t}:set-initial-values`,r=>e.setInitialValues(r.detail)),h(`mantine-form:${t}:set-errors`,r=>e.setErrors(r.detail)),h(`mantine-form:${t}:set-field-error`,r=>e.setFieldError(r.detail.path,r.detail.error)),h(`mantine-form:${t}:clear-field-error`,r=>e.clearFieldError(r.detail)),h(`mantine-form:${t}:clear-errors`,e.clearErrors),h(`mantine-form:${t}:reset`,e.reset),h(`mantine-form:${t}:validate`,e.validate),h(`mantine-form:${t}:validate-field`,r=>e.validateField(r.detail)),h(`mantine-form:${t}:reorder-list-item`,r=>e.reorderListItem(r.detail.path,r.detail.payload)),h(`mantine-form:${t}:remove-list-item`,r=>e.removeListItem(r.detail.path,r.detail.index)),h(`mantine-form:${t}:insert-list-item`,r=>e.insertListItem(r.detail.path,r.detail.item,r.detail.index)),h(`mantine-form:${t}:set-dirty`,r=>e.setDirty(r.detail)),h(`mantine-form:${t}:set-touched`,r=>e.setTouched(r.detail)),h(`mantine-form:${t}:reset-dirty`,r=>e.resetDirty(r.detail)),h(`mantine-form:${t}:reset-touched`,e.resetTouched)}function W(t){return t===null||typeof t!="object"?{}:Object.keys(t).reduce((e,r)=>{const i=t[r];return i!=null&&i!==!1&&(e[r]=i),e},{})}function $e(t){return e=>{if(!e)t(e);else if(typeof e=="function")t(e);else if(typeof e=="object"&&"nativeEvent"in e){const{currentTarget:r}=e;r instanceof HTMLInputElement?r.type==="checkbox"?t(r.checked):t(r.value):(r instanceof HTMLTextAreaElement||r instanceof HTMLSelectElement)&&t(r.value)}else t(e)}}function K(t,e){const r=Object.keys(t);if(typeof e=="string"){const i=r.filter(o=>o.startsWith(`${e}.`));return t[e]||i.some(o=>t[o])||!1}return r.some(i=>t[i])}function Q(t,e){if(e===null||typeof e!="object")return{};const r={...e};return Object.keys(e).forEach(i=>{i.includes(`${String(t)}.`)&&delete r[i]}),r}function U(t,e){const r=t.substring(e.length+1).split(".")[0];return parseInt(r,10)}function Y(t,e,r,i){if(e===void 0)return r;const o=`${String(t)}`;let a=r;i===-1&&(a=Q(`${o}.${e}`,a));const c={...a},p=new Set;return Object.entries(a).filter(([l])=>{if(!l.startsWith(`${o}.`))return!1;const m=U(l,o);return Number.isNaN(m)?!1:m>=e}).forEach(([l,m])=>{const v=U(l,o),b=l.replace(`${o}.${v}`,`${o}.${v+i}`);c[b]=m,p.add(b),p.has(l)||delete c[l]}),c}function ke(t,{from:e,to:r},i){const o=`${t}.${e}`,a=`${t}.${r}`,c={...i};return Object.keys(i).every(p=>{let l,m;if(p.startsWith(o)&&(l=p,m=p.replace(o,a)),p.startsWith(a)&&(l=p.replace(a,o),m=p),l&&m){const v=c[l],b=c[m];return b===void 0?delete c[l]:c[l]=b,v===void 0?delete c[m]:c[m]=v,!1}return!0}),c}function ee(t){return typeof t!="string"?[]:t.split(".")}function E(t,e){const r=ee(t);if(r.length===0||typeof e!="object"||e===null)return;let i=e[r[0]];for(let o=1;o<r.length&&i!==void 0;o+=1)i=i[r[o]];return i}function te(t,e,r){typeof r.value=="object"&&(r.value=w(r.value)),!r.enumerable||r.get||r.set||!r.configurable||!r.writable||e==="__proto__"?Object.defineProperty(t,e,r):t[e]=r.value}function w(t){if(typeof t!="object")return t;var e=0,r,i,o,a=Object.prototype.toString.call(t);if(a==="[object Object]"?o=Object.create(t.__proto__||null):a==="[object Array]"?o=Array(t.length):a==="[object Set]"?(o=new Set,t.forEach(function(c){o.add(w(c))})):a==="[object Map]"?(o=new Map,t.forEach(function(c,p){o.set(w(p),w(c))})):a==="[object Date]"?o=new Date(+t):a==="[object RegExp]"?o=new RegExp(t.source,t.flags):a==="[object DataView]"?o=new t.constructor(w(t.buffer)):a==="[object ArrayBuffer]"?o=t.slice(0):a.slice(-6)==="Array]"&&(o=new t.constructor(t)),o){for(i=Object.getOwnPropertySymbols(t);e<i.length;e++)te(o,i[e],Object.getOwnPropertyDescriptor(t,i[e]));for(e=0,i=Object.getOwnPropertyNames(t);e<i.length;e++)Object.hasOwnProperty.call(o,r=i[e])&&o[r]===t[r]||te(o,r,Object.getOwnPropertyDescriptor(t,r))}return o||t}function T(t,e,r){const i=ee(t);if(i.length===0)return r;const o=w(r);if(i.length===1)return o[i[0]]=e,o;let a=o[i[0]];for(let c=1;c<i.length-1;c+=1){if(a===void 0)return o;a=a[i[c]]}return a[i[i.length-1]]=e,o}function we(t,{from:e,to:r},i){const o=E(t,i);if(!Array.isArray(o))return i;const a=[...o],c=o[e];return a.splice(e,1),a.splice(r,0,c),T(t,a,i)}function Ce(t,e,r,i){const o=E(t,i);if(!Array.isArray(o))return i;const a=[...o];return a.splice(typeof r=="number"?r:a.length,0,e),T(t,a,i)}function Ae(t,e,r){const i=E(t,r);return Array.isArray(i)?T(t,i.filter((o,a)=>a!==e),r):r}function Se(t){const e=W(t);return{hasErrors:Object.keys(e).length>0,errors:e}}function z(t,e,r="",i={}){return typeof t!="object"||t===null?i:Object.keys(t).reduce((o,a)=>{const c=t[a],p=`${r===""?"":`${r}.`}${a}`,l=E(p,e);let m=!1;return typeof c=="function"&&(o[p]=c(l,e,p)),typeof c=="object"&&Array.isArray(l)&&(m=!0,l.forEach((v,b)=>z(c,e,`${p}.${b}`,o))),typeof c=="object"&&typeof l=="object"&&l!==null&&(m||z(c,e,p,o)),o},i)}function B(t,e){return Se(typeof t=="function"?t(e):z(t,e))}function L(t,e,r){if(typeof t!="string")return{hasError:!1,error:null};const i=B(e,r),o=Object.keys(i.errors).find(a=>t.split(".").every((c,p)=>c===a.split(".")[p]));return{hasError:!!o,error:o?i.errors[o]:null}}const Ie="__MANTINE_FORM_INDEX__";function re(t,e){return e?typeof e=="boolean"?e:Array.isArray(e)?e.includes(t.replace(/[.][0-9]/g,`.${Ie}`)):!1:!1}function Fe({name:t,initialValues:e,initialErrors:r={},initialDirty:i={},initialTouched:o={},clearInputErrorOnChange:a=!0,validateInputOnChange:c=!1,validateInputOnBlur:p=!1,onValuesChange:l,transformValues:m=A=>A,enhanceGetInputProps:v,validate:b}={}){const[A,S]=d.useState(o),[V,I]=d.useState(i),[y,j]=d.useState(e||{}),[H,$]=d.useState(W(r)),[P,ne]=d.useState(!1),F=d.useRef(e||{}),x=n=>{F.current=n},oe=d.useCallback(n=>{P||(ne(!0),j(n),x(n))},[P]),G=d.useCallback(()=>S({}),[]),ie=n=>{const s=n?{...y,...n}:y;x(s),I({})},M=d.useCallback(n=>$(s=>W(typeof n=="function"?n(s):n)),[]),N=d.useCallback(()=>$({}),[]),X=d.useCallback(()=>{j(F.current),N(),I({}),G()},[]),C=d.useCallback((n,s)=>M(u=>({...u,[n]:s})),[]),_=d.useCallback(n=>M(s=>{if(typeof n!="string")return s;const u={...s};return delete u[n],u}),[]),D=d.useCallback(n=>I(s=>{if(typeof n!="string")return s;const u=Q(n,s);return delete u[n],u}),[]),Z=d.useCallback((n,s)=>{const u=re(n,c);D(n),S(f=>({...f,[n]:!0})),j(f=>{const k=E(n,f),g=T(n,s instanceof Function?s(k):s,f);if(u){const O=L(n,b,g);O.hasError?C(n,O.error):_(n)}return l==null||l(g,f),g}),!u&&a&&C(n,null)},[l]),ae=d.useCallback(n=>{j(s=>{const u=n instanceof Function?n(s):n,f={...s,...u};return l==null||l(f,s),f}),a&&N()},[l]),se=d.useCallback((n,s)=>{D(n),j(u=>{const f=we(n,s,u);return l==null||l(f,u),f}),$(u=>ke(n,s,u))},[]),le=d.useCallback((n,s)=>{D(n),j(u=>{const f=Ae(n,s,u);return l==null||l(f,u),f}),$(u=>Y(n,s,u,-1))},[]),ue=d.useCallback((n,s,u)=>{D(n),j(f=>{const k=Ce(n,s,u,f);return l==null||l(k,f),k}),$(f=>Y(n,u,f,1))},[]),q=d.useCallback(()=>{const n=B(b,y);return $(n.errors),n},[y,b]),ce=d.useCallback(n=>{const s=L(n,b,y);return s.hasError?C(n,s.error):_(n),s},[y,b]),fe=(n,{type:s="input",withError:u=!0,withFocus:f=!0,...k}={})=>{const g={onChange:$e(O=>Z(n,O))};return u&&(g.error=H[n]),s==="checkbox"?g.checked=E(n,y):g.value=E(n,y),f&&(g.onFocus=()=>S(O=>({...O,[n]:!0})),g.onBlur=()=>{if(re(n,p)){const O=L(n,b,y);O.hasError?C(n,O.error):_(n)}}),Object.assign(g,v==null?void 0:v({inputProps:g,field:n,options:{type:s,withError:u,withFocus:f,...k},form:R}))},de=(n,s)=>u=>{u==null||u.preventDefault();const f=q();f.hasErrors?s==null||s(f.errors,y,u):n==null||n(m(y),u)},pe=n=>m(n||y),ye=d.useCallback(n=>{n.preventDefault(),X()},[]),me=n=>{if(n){const s=E(n,V);if(typeof s=="boolean")return s;const u=E(n,y),f=E(n,F.current);return!J(u,f)}return Object.keys(V).length>0?K(V):!J(y,F.current)},be=d.useCallback(n=>K(A,n),[A]),he=d.useCallback(n=>n?!L(n,b,y).hasError:!B(b,y).hasErrors,[y,b]),R={initialized:P,values:y,errors:H,initialize:oe,setValues:ae,setInitialValues:x,setErrors:M,setFieldValue:Z,setFieldError:C,clearFieldError:_,clearErrors:N,reset:X,validate:q,validateField:ce,reorderListItem:se,removeListItem:le,insertListItem:ue,getInputProps:fe,onSubmit:de,onReset:ye,isDirty:me,isTouched:be,setTouched:S,setDirty:I,resetTouched:G,resetDirty:ie,isValid:he,getTransformedValues:pe};return je(t,R),R}export{Fe as u};
